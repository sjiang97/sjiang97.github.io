<!DOCTYPE html><html><head><meta name="generator" content="Hexo 3.8.0"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>College library optimization problem | Shaokang&#39;s Blog</title><meta name="keywords" content="optimization,project, Blog"><meta name="HandheldFriendly" content="True"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-waves@0.7.6/dist/waves.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.6.3/css/all.min.css"><link href="/css/table.css" type="text/css" rel="stylesheet" media="screen,projection"><link href="https://cdn.bootcss.com/KaTeX/0.7.1/katex.min.css" rel="stylesheet"><link rel="stylesheet" href="/style.css"><script>function setLoadingBarProgress(e){document.getElementById("loading-bar").style.width=e+"%"}</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/latest.js?config=TeX-MML-AM_CHTML"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});</script></head><body><div class="cover-wrapper"><cover class="cover post half"><h1 class="title">Shaokang's Blog</h1><div class="m_search"><form name="searchform" class="form u-search-form"><input type="text" class="input u-search-input" placeholder="search"> <i class="icon fas fa-search fa-fw"></i></form></div><div class="menu navgation"><ul class="h-list"><li><a class="nav home" href="/" id="home"><i class="fas fa-rss fa-fw"></i>&nbsp;Recent</a></li><li><a class="nav home" href="/projects/" id="projects"><i class="fas fa-code-branch fa-fw"></i>&nbsp;Projects</a></li><li><a class="nav home" href="/about/" rel="nofollow" id="about"><i class="fas fa-info-circle fa-fw"></i>&nbsp;About</a></li></ul></div></cover><header class="l_header material"><div id="loading-bar-wrapper"><div id="loading-bar" class="material"></div></div><div class="wrapper"><div class="nav-main container container--flex"><a class="logo flat-box" href="/">Shaokang's Blog</a><div class="menu navgation"><ul class="h-list"><li><a class="nav flat-box" href="/" id="home"><i class="fas fa-grin fa-fw"></i>&nbsp;Recent</a></li><li><a class="nav flat-box" href="/categories/" rel="nofollow" id="categories"><i class="fas fa-folder-open fa-fw"></i>&nbsp;Category</a></li><li><a class="nav flat-box" href="/tags/" rel="nofollow" id="tags"><i class="fas fa-hashtag fa-fw"></i>&nbsp;Tags</a></li><li><a class="nav flat-box" href="/archives/" rel="nofollow" id="archives"><i class="fas fa-archive fa-fw"></i>&nbsp;Archive</a></li></ul></div><div class="m_search"><form name="searchform" class="form u-search-form"><input type="text" class="input u-search-input" placeholder="Search"> <i class="icon fas fa-search fa-fw"></i></form></div><ul class="switcher h-list"><li class="s-search"><a class="fas fa-search fa-fw" href="javascript:void(0)"></a></li><li class="s-menu"><a class="fas fa-bars fa-fw" href="javascript:void(0)"></a></li></ul></div><div class="nav-sub container container--flex"><a class="logo flat-box"></a><ul class="switcher h-list"><li class="s-comment"><a class="flat-btn fas fa-comments fa-fw" href="javascript:void(0)"></a></li><li class="s-toc"><a class="flat-btn fas fa-list fa-fw" href="javascript:void(0)"></a></li></ul></div></div></header><aside class="menu-phone"><header><nav class="menu navgation"><ul><li><a class="nav flat-box" href="/" id="home"><i class="fas fa-clock fa-fw"></i>&nbsp;Recent</a></li><li><a class="nav flat-box" href="/archives/" rel="nofollow" id="archives"><i class="fas fa-archive fa-fw"></i>&nbsp;Archive</a></li><li><a class="nav flat-box" href="/projects/" id="projects"><i class="fas fa-code-branch fa-fw"></i>&nbsp;Project</a></li><li><a class="nav flat-box" href="/categories/" rel="nofollow" id="categories"><i class="fas fa-folder-open fa-fw"></i>&nbsp;Category</a></li><li><a class="nav flat-box" href="/tags/" rel="nofollow" id="tags"><i class="fas fa-hashtag fa-fw"></i>&nbsp;Tags</a></li><li><a class="nav flat-box" href="/about/" rel="nofollow" id="about"><i class="fas fa-info-circle fa-fw"></i>&nbsp;About</a></li></ul></nav></header></aside><script>setLoadingBarProgress(40)</script></div><div class="l_body"><div class="body-wrapper"><div class="l_main"><article id="post" class="post white-box article-type-post" itemscope itemprop="blogPost"><section class="meta"><div class="meta" id="header-meta"><h1 class="title"><a href="/2019/projects/College-library-optimization-problem/">College library optimization problem</a></h1><div class="new-meta-box"><div class="new-meta-item author"><a href="https://shaokang.ga" rel="nofollow"><i class="fas fa-user" aria-hidden="true"></i><p>Shaokang Jiang</p></a></div><div class="new-meta-item date"><a class="notlink"><i class="fas fa-calendar-alt" aria-hidden="true"></i><p>12/22/2019</p></a></div><div class="new-meta-item category"><a href="/categories/optimization/" rel="nofollow"><i class="fas fa-folder-open" aria-hidden="true"></i><p>optimization</p></a></div></div><hr></div></section><section class="article typo"><div class="article-entry" itemprop="articleBody"><p>This project is a group work designed and solve by Shaokang Jiang &amp; Katherine Fu for course CS524 project.</p><p>Optimization is a powerful way to solve real problem in a short amount of time. It needs us to use more math when we design solutions instead of using computing resources when the problem runs. GAMS is a powerful optimization software. GAMS could do calculation and generate equations in seconds. By using CPLEX, we are able to reach solutions in seconds. In this project, we utilize GAMS feature (dynamic sets, mip, etc) and nearly solved a real problem.</p><p><a id="Problem"></a></p><h2 id="problem"><a class="markdownIt-Anchor" href="#problem"></a> Problem</h2><h3 id="college-library-optimization-problem"><a class="markdownIt-Anchor" href="#college-library-optimization-problem"></a> College library optimization problem</h3><p>We consider a simplified example of arranging the number of students who use the college library for studying.<a id="more"></a> In different period of time during school year, the number of students staying in the library is different. During the midterm and final weeks, the number is rapidly increasing. Thus, it is essential to maximize the efficiency of the number of hours of students who can use the library<!-- more --> given their studying duration of using individual seats, the inflow and outflow of students, the equipment checking-out situations, and so on.</p><p>To simplify our model, we assume that the library has two sections: a quiet area, a public area. The total number of seats in the college library is 1000.</p><table><tr><th colspan="2"><center>Quiet area</center></th><th colspan="4"><center>Public area</center></th></tr><tr><td>&le;5 hrs</td><td>&gt;5 hrs</td><th colspan="2">For project</th><th colspan="2">For chatting</th></tr><tr><td></td><td></td><td>&le;2 hrs</td><td>&gt;2 hrs</td><td>&le;4 hrs</td><td>&gt;4 hrs</td></tr><tr><td>1</td><td>0.6</td><td>1.1</td><td>0.5</td><td>0.12</td><td>0.05</td></tr></table><p>To understand the Efficiency, we gave an example at here. Assume a person could finish a page of work in an hour, this is defined as one unit of efficiency, also known as the efficiency per hour for a person work in quiet area for less than 5 hours. But if this person work more than 5 hours, then he/she can only finish 0.6 pages of work for each hour he/she spend. By using formula, it looks like this: (t stand for time of working, f(t) stand for total efficiency) Equation 1 stand for student total efficiency staying in quiet area. Equation 2 stand for student total efficiency staying in public area for project purpose. Equation 3 stand for student total efficiency staying in public area for chatting purpose.</p>\begin{equation} f(t)=\left\{ \begin{aligned} & 1*t & \forall t\le 5 \\ & 5+0.6*t & \forall t> 5 \end{aligned} \right. \end{equation} \begin{equation} f(t)=\left\{ \begin{aligned} & 1.1*t & \forall t\le 2 \\ & 2.2+0.5*t & \forall t> 2 \end{aligned} \right. \end{equation} \begin{equation} f(t)=\left\{ \begin{aligned} & 0.12*t & \forall t\le 4 \\ & 0.48+0.05*t & \forall t> 4 \end{aligned} \right. \end{equation}<p>It is permitted to switch a person from quiet place to public place. A person who requested the quiet apace and switched to public space due to limited seats will have an coefficient of efficiency of 0.8; A person who requested the public apace and switched to quiet space due to limited seats will have an coefficient of efficiency of 0.3;</p><p>Equation below stand for student total efficiency. (x represent for the original efficiency this student have, which is also the caalculation result from the previous step, f(x) stand for result of new efficiency)</p>\begin{equation} f(x)=\left\{ \begin{aligned} & 0.8*x & \forall x| quiet\rightarrow public \\ & 0.3*x & \forall x| public \rightarrow quiet \end{aligned} \right. \end{equation}<p><a id="end_o1"></a></p><p>The college library also provides equipment including laptops,<br>calculators, and computer chargers for students to use. If a student<br>checks out one of these equipment, the efficiency of that student could be multiply by those coefficient. The coefficient for regular efficiency is shown below.</p><table><thead><tr><th>Laptops</th><th>calculators</th><th>computer chargers</th></tr></thead><tbody><tr><td>1.1</td><td>1.2</td><td>1.3</td></tr></tbody></table><p>Equation below stand for student total efficiency. (x represent for the original efficiency this student have, which is also the calculation result from the previous step, f(x) stand for result of new efficiency)</p>\begin{equation} f(x)=\left\{ \begin{aligned} & 1.2*x & \forall x| calculator=1 &\\ & 1.1*x & \forall x| laptops=1 &\\ & 1.3*x & \forall x| charger=1 & \end{aligned} \right. \end{equation}<p>The number of laptops is 10, the total number of calculators is 30, and<br>the number of chargers is also 10. Every person could use those equipment for the time duration that they are study in the library. Each person could borrow at most one equipment during time duration that he is in library.</p><p>data.gdx contain the data of students’ thinking of purpose of using those equipment and seats in the library. We want to consider a situation in a day of experimenting period during opening hours of 8:00 am to 9:00 pm. This file recorded the time when a student enter the library; the time they want to study; the place they want to study; Max possible hours for quiet hours is 10. Max possible hours for public hours is 6; type of 0 stands for project, 1 stands for chatting;</p><p>By using data above, you are going to give permission for certain group of students to enter this library and arrange seats in the library in order to maximize total efficiency. And also, to demonstrate that this library is open to all people, you get to allow at least 10 chatting people to enter this library.</p><h4 id="objective1"><a class="markdownIt-Anchor" href="#objective1"></a> Objective1:</h4><p>How to arrange seats in the library to try the best to meet the requirement of student’s thought in data.gdx and maximize the total efficiency of students using the library? Also, which student will be permitted of entering this library?</p><p>Dataset could be downloaded from <a href="https://shaokang.ga/data.gdx">data.gdx</a>.</p><h4 id="objective2"><a class="markdownIt-Anchor" href="#objective2"></a> Objective2:</h4><p>More gdx file is provided. Those gdx files describe different time of requests from students. How to arrange seats in the library to try the best to meet the requirement of student’s thought in those gdx files and maximize the total efficiency of students using the library? Each gdx file is considered as a different scene, store the output in parameter and plot different seat arrangement during this year in a line diagram and draw out if there is any suggestion to provide to the library.</p><p>Dataset could be downloaded from <a href="https://shaokang.ga/data-free.gdx">data-free.gdx</a>, <a href="https://shaokang.ga/data-middle.gdx">data-middle.gdx</a>, <a href="https://shaokang.ga/data-busy.gdx">data-busy.gdx</a>.</p><h4 id="objective3"><a class="markdownIt-Anchor" href="#objective3"></a> Objective3:</h4><p>Solve the model multiple times with different total seats provided, do you have any recommendation for the school that they need to buy more seats or not? Do not consider rules of fire protection design and construction of buildings. Plot the result in graph and explain the reason.</p><h2 id="analyze"><a class="markdownIt-Anchor" href="#analyze"></a> Analyze:</h2><h4 id="the-approach-used"><a class="markdownIt-Anchor" href="#the-approach-used"></a> The approach used.</h4><p>We organized the requests from all the students based on their (enter_hour, public_hour) with the help of variables, respectively, n_pe_public and n_pe_quiet. These are represented as the maxmize number of people each regetangle block could contain in the graph below.</p><p><img src="https://wp1sqw.bn.files.1drv.com/y4mGlSqlxLGHhN5pyoGcH3iKswCkHuysM7gqvGAQngOErEEKi-Hv-f6xWD0fqTSnkNK68jTEcS-3uJ0IFAxRwJJRHD1ayVKXlGz63b4vLtN5XX8SYWNFLgGtBo9478yzbQE9DeF-trxhwcXutuXnuRUJyE4JeqavCYhFg3FhAwh3TobvqdG_epxR54zVTk4NVQxrn490NA8feKjUHj6n9_LTw?width=4638&amp;height=1625&amp;cropmode=none" alt="Diagram"></p><p>Regarding the opening time of the library, there are two variables called quiet_arrange and public_arrange in a form of tuples (enter_hour, public_hour) as an entry. Based on the graph above, every quiet(open_hour, quiet_hour) variable contains # of people staying on seat at certain time interval and the duration of his or her studying hours is illustrated as the length of each block. Same case for public area. After we synthesized all the cases of students from his or her entering times to leaving times, we could form a complete diagram and the left graph above is a snippet.</p><p>In general, we utilized a dynamic set determined by students’ entering time and the duration of studying in either quiet or public area during each time interval from 8 am to 9 pm to measure the seat arrangement. This dynamic dataset is called “visible_quiet”, a 3-dimensional set, with sets (o, enter_hour, quiet_hour). It means, for every time interval o(as 10:00 in above) starting from 8 am, the (open_hour, quiet_hour) should be counted once, which is shown as shaded blocks on the top right side. In each time interval, a decent amount of students will enter the library and the total number during that time will be calculated. For example, based on the graph above, quiet(“8”, “3”) records the number of students who enter the library at 8 am and stay for 3 hours. If another student comes at 10 am and has also studied for 3 hours, we should count both of them in the time interval from 10 am to 11 am (the shaded area). The sum of number of students that shaded blocks contains should be less or equal to a corresponding variable(called quiet_chairs in code). Similiar case would be applied to public case.</p><p>We also took the seat-switching situations as considerations. The number of students in quiet area in certain interval should be the sum of the number of current students, those who just arrive, and those who switch from the public area to the quiet area(named as switch_p2q in code). Same thing applies to the arrangement of the public area(in a variable called switch_q2p).</p><p>Our objective is to maximize the total efficiency. We realized the utilization of calculators, chargers and laptops will also exert significant effects on students’ efficiency. Considering that it was hard to calculate them with our original model, we splited the entire block into two stages demonstrated in two blocks in <a href="#o11">obj1</a>. The <a href="#o1s1">first stage</a> begin from the head of introduction and end at <a href="#end_o1">here</a>. Because we had them in the problem description part, we solved the <a href="#o1s2">second stage</a> and use this model to discover data in obj2. In the <a href="#o1s1">first stage</a>, the model is calculated by multiplying the base total efficiency coefficients with the number of hours students spend in each area. The base total efficiency coefficients depend on area and hours, so they are pre-calculated and stored in eff_quiet and eff_public in the code. We also considered the situation whether students switch areas or utilize equipments. For different scenarios, we multiplied hours with different coefficients. More details will be discussed in the section below.</p><p>For the <a href="#o1s2">second stage</a> of the problem, we employed some variables similar to ca_need_public, ca_need_quiet to represent the machines borrowed at pair (enter_hour, quiet_hour). We organized the needs for devices at first and set up them as an upper bound. The other procedures are similar to methods using in stage one. One difference is that we utilized some variableS for spliting, similar to ca_need_public_1, ca_need_public_2. They are used later for the objective function. Because the objective function has two variables with different conditions(quiet_arrange and switch_p2q) in each type(pblic or quiet) taking different final coefficient, we need to split the variable to represent those conditions. Because we try to maximizing the problem, the program will always fill the quiet_arrange first as it has a higher coefficient in general.</p><p>In terms of the number of equipments, we assumed that the requests for equipments should be greater than the number the library has. Given a simple example. If four students all require to use calculator but currently, the library only has 3 calculators available, we try to find a way to give the calculators to students in order to maximize the total efficiency.</p><h4 id="optimization-model"><a class="markdownIt-Anchor" href="#optimization-model"></a> Optimization model</h4><p>We first counted the total number of people in either public or private areas based on the avalibility. Then, we calculated the efficiency of both regular studying hour, switching situations, and, equipment check-out situations and attempt to maxmize the total efficiency. We finally displayed students who have been chosen to study in certain seats in certain time interval.</p><p>We simplified the representation so we only represented the quiet study room and calculator case.<br>In the model, we had those variables:</p><ul><li>let o to be a set of open hour from 8 to 21.</li><li>let q to be a set of people can stay in the quiet room, from 1 to 10.</li><li>let ty be the type of public object, it could be chat or project.</li><li>let qi be the set of original people record identity number, and cj be the category, like enter, hours, calculator</li><li>Let <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Q</mi><mi>u</mi><mi>i</mi><mi>e</mi><msub><mi>t</mi><mrow><mi>m</mi><mi>l</mi></mrow></msub></mrow><annotation encoding="application/x-tex">Quiet_{ml}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:.68333em"></span><span class="strut bottom" style="height:.8777699999999999em;vertical-align:-.19444em"></span><span class="base textstyle uncramped"><span class="mord mathit">Q</span><span class="mord mathit">u</span><span class="mord mathit">i</span><span class="mord mathit">e</span><span class="mord"><span class="mord mathit">t</span><span class="vlist"><span style="top:.15em;margin-right:.05em;margin-left:0"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">m</span><span class="mord mathit" style="margin-right:.01968em">l</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0">​</span></span>​</span></span></span></span></span></span> for <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi><mo>∈</mo><mi>q</mi><mi>i</mi><mo separator="true">,</mo><mi>l</mi><mo>∈</mo><mi>c</mi><mi>j</mi></mrow><annotation encoding="application/x-tex">m\in qi, l\in cj</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:.69444em"></span><span class="strut bottom" style="height:.8888799999999999em;vertical-align:-.19444em"></span><span class="base textstyle uncramped"><span class="mord mathit">m</span><span class="mrel">∈</span><span class="mord mathit" style="margin-right:.03588em">q</span><span class="mord mathit">i</span><span class="mpunct">,</span><span class="mord mathit" style="margin-right:.01968em">l</span><span class="mrel">∈</span><span class="mord mathit">c</span><span class="mord mathit" style="margin-right:.05724em">j</span></span></span></span> represent the dataset.</li><li>let <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>s</mi><msub><mi>q</mi><mrow><mi>i</mi><mi>j</mi><mi>k</mi></mrow></msub></mrow><annotation encoding="application/x-tex">sq_{ijk}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:.43056em"></span><span class="strut bottom" style="height:.716668em;vertical-align:-.286108em"></span><span class="base textstyle uncramped"><span class="mord mathit">s</span><span class="mord"><span class="mord mathit" style="margin-right:.03588em">q</span><span class="vlist"><span style="top:.15em;margin-right:.05em;margin-left:-.03588em"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">i</span><span class="mord mathit" style="margin-right:.05724em">j</span><span class="mord mathit" style="margin-right:.03148em">k</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0">​</span></span>​</span></span></span></span></span></span> for <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo>∈</mo><mi>o</mi><mo separator="true">,</mo><mi>k</mi><mo>∈</mo><mi>q</mi></mrow><annotation encoding="application/x-tex">i,j\in o, k\in q</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:.69444em"></span><span class="strut bottom" style="height:.8888799999999999em;vertical-align:-.19444em"></span><span class="base textstyle uncramped"><span class="mord mathit">i</span><span class="mpunct">,</span><span class="mord mathit" style="margin-right:.05724em">j</span><span class="mrel">∈</span><span class="mord mathit">o</span><span class="mpunct">,</span><span class="mord mathit" style="margin-right:.03148em">k</span><span class="mrel">∈</span><span class="mord mathit" style="margin-right:.03588em">q</span></span></span></span> be the dynamic set represents at hour i, people who come in at j and plan to stay k hours, which is visible. For example, <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>s</mi><mrow><mn>9</mn><mi>j</mi><mi>k</mi></mrow></msub></mrow><annotation encoding="application/x-tex">s_{9jk}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:.43056em"></span><span class="strut bottom" style="height:.716668em;vertical-align:-.286108em"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit">s</span><span class="vlist"><span style="top:.15em;margin-right:.05em;margin-left:0"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathrm">9</span><span class="mord mathit" style="margin-right:.05724em">j</span><span class="mord mathit" style="margin-right:.03148em">k</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0">​</span></span>​</span></span></span></span></span></span> = {(8,2),(8,3),(8,4)…(8,10),(9,1),(9,2),(9,3)…(9,10)}</li><li>let <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>s</mi><msub><mi>p</mi><mrow><mi>l</mi><mi>i</mi><mi>j</mi><mi>k</mi></mrow></msub></mrow><annotation encoding="application/x-tex">sp_{lijk}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:.43056em"></span><span class="strut bottom" style="height:.716668em;vertical-align:-.286108em"></span><span class="base textstyle uncramped"><span class="mord mathit">s</span><span class="mord"><span class="mord mathit">p</span><span class="vlist"><span style="top:.15em;margin-right:.05em;margin-left:0"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit" style="margin-right:.01968em">l</span><span class="mord mathit">i</span><span class="mord mathit" style="margin-right:.05724em">j</span><span class="mord mathit" style="margin-right:.03148em">k</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0">​</span></span>​</span></span></span></span></span></span> for <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>l</mi><mo>∈</mo><mi>t</mi><mi>y</mi><mo separator="true">,</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo>∈</mo><mi>o</mi><mo separator="true">,</mo><mi>k</mi><mo>∈</mo><mi>q</mi></mrow><annotation encoding="application/x-tex">l\in ty, i,j\in o, k\in q</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:.69444em"></span><span class="strut bottom" style="height:.8888799999999999em;vertical-align:-.19444em"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:.01968em">l</span><span class="mrel">∈</span><span class="mord mathit">t</span><span class="mord mathit" style="margin-right:.03588em">y</span><span class="mpunct">,</span><span class="mord mathit">i</span><span class="mpunct">,</span><span class="mord mathit" style="margin-right:.05724em">j</span><span class="mrel">∈</span><span class="mord mathit">o</span><span class="mpunct">,</span><span class="mord mathit" style="margin-right:.03148em">k</span><span class="mrel">∈</span><span class="mord mathit" style="margin-right:.03588em">q</span></span></span></span> be the dynamic set represents at hour i, people who come in at j and plan to stay k hours, which is visible. For example, <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>s</mi><mrow><mn>1</mn><mn>9</mn><mi>j</mi><mi>k</mi></mrow></msub></mrow><annotation encoding="application/x-tex">s_{19jk}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:.43056em"></span><span class="strut bottom" style="height:.716668em;vertical-align:-.286108em"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit">s</span><span class="vlist"><span style="top:.15em;margin-right:.05em;margin-left:0"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathrm">1</span><span class="mord mathrm">9</span><span class="mord mathit" style="margin-right:.05724em">j</span><span class="mord mathit" style="margin-right:.03148em">k</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0">​</span></span>​</span></span></span></span></span></span> = {(8,2),(8,3),(8,4)…(8,6),(9,1),(9,2),(9,3)…(9,6)}</li><li>let <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>E</mi><mrow><mi>k</mi></mrow></msub></mrow><annotation encoding="application/x-tex">E_{k}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:.68333em"></span><span class="strut bottom" style="height:.83333em;vertical-align:-.15em"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit" style="margin-right:.05764em">E</span><span class="vlist"><span style="top:.15em;margin-right:.05em;margin-left:-.05764em"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit" style="margin-right:.03148em">k</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0">​</span></span>​</span></span></span></span></span></span> for <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>k</mi><mo>∈</mo><mi>q</mi></mrow><annotation encoding="application/x-tex">k\in q</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:.69444em"></span><span class="strut bottom" style="height:.8888799999999999em;vertical-align:-.19444em"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:.03148em">k</span><span class="mrel">∈</span><span class="mord mathit" style="margin-right:.03588em">q</span></span></span></span> to be the Base total efficiency base vector on time k.</li><li>let <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>P</mi><mn>2</mn><msub><mi>Q</mi><mrow><mi>l</mi><mi>j</mi><mi>k</mi></mrow></msub></mrow><annotation encoding="application/x-tex">P2Q_{ljk}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:.68333em"></span><span class="strut bottom" style="height:.969438em;vertical-align:-.286108em"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:.13889em">P</span><span class="mord mathrm">2</span><span class="mord"><span class="mord mathit">Q</span><span class="vlist"><span style="top:.15em;margin-right:.05em;margin-left:0"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit" style="margin-right:.01968em">l</span><span class="mord mathit" style="margin-right:.05724em">j</span><span class="mord mathit" style="margin-right:.03148em">k</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0">​</span></span>​</span></span></span></span></span></span> for <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>l</mi><mo>∈</mo><mi>t</mi><mi>y</mi><mo separator="true">,</mo><mi>j</mi><mo>∈</mo><mi>o</mi><mo separator="true">,</mo><mi>k</mi><mo>∈</mo><mi>q</mi></mrow><annotation encoding="application/x-tex">l\in ty, j\in o, k\in q</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:.69444em"></span><span class="strut bottom" style="height:.8888799999999999em;vertical-align:-.19444em"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:.01968em">l</span><span class="mrel">∈</span><span class="mord mathit">t</span><span class="mord mathit" style="margin-right:.03588em">y</span><span class="mpunct">,</span><span class="mord mathit" style="margin-right:.05724em">j</span><span class="mrel">∈</span><span class="mord mathit">o</span><span class="mpunct">,</span><span class="mord mathit" style="margin-right:.03148em">k</span><span class="mrel">∈</span><span class="mord mathit" style="margin-right:.03588em">q</span></span></span></span> to be people switch from public area to quiet area enter at hour j and stay for hours k. Same mechanism for <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Q</mi><mn>2</mn><mi>P</mi></mrow><annotation encoding="application/x-tex">Q2P</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:.68333em"></span><span class="strut bottom" style="height:.8777699999999999em;vertical-align:-.19444em"></span><span class="base textstyle uncramped"><span class="mord mathit">Q</span><span class="mord mathrm">2</span><span class="mord mathit" style="margin-right:.13889em">P</span></span></span></span></li><li>let variable <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Q</mi><mi>C</mi></mrow><annotation encoding="application/x-tex">QC</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:.68333em"></span><span class="strut bottom" style="height:.8777699999999999em;vertical-align:-.19444em"></span><span class="base textstyle uncramped"><span class="mord mathit">Q</span><span class="mord mathit" style="margin-right:.07153em">C</span></span></span></span> be the chairs should be in quiet room.</li><li>let variable <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>Q</mi><mrow><mi>j</mi><mi>k</mi></mrow></msub></mrow><annotation encoding="application/x-tex">Q_{jk}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:.68333em"></span><span class="strut bottom" style="height:.969438em;vertical-align:-.286108em"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit">Q</span><span class="vlist"><span style="top:.15em;margin-right:.05em;margin-left:0"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit" style="margin-right:.05724em">j</span><span class="mord mathit" style="margin-right:.03148em">k</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0">​</span></span>​</span></span></span></span></span></span> for <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>j</mi><mo>∈</mo><mi>o</mi><mo separator="true">,</mo><mi>k</mi><mo>∈</mo><mi>q</mi></mrow><annotation encoding="application/x-tex">j\in o, k\in q</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:.69444em"></span><span class="strut bottom" style="height:.8888799999999999em;vertical-align:-.19444em"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:.05724em">j</span><span class="mrel">∈</span><span class="mord mathit">o</span><span class="mpunct">,</span><span class="mord mathit" style="margin-right:.03148em">k</span><span class="mrel">∈</span><span class="mord mathit" style="margin-right:.03588em">q</span></span></span></span> be the number of people accepted to the library to maximize total efficiency</li><li>let variable <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>C</mi><mi>Q</mi><msub><mn>1</mn><mrow><mi>j</mi><mi>k</mi></mrow></msub></mrow><annotation encoding="application/x-tex">CQ1_{jk}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:.68333em"></span><span class="strut bottom" style="height:.969438em;vertical-align:-.286108em"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:.07153em">C</span><span class="mord mathit">Q</span><span class="mord"><span class="mord mathrm">1</span><span class="vlist"><span style="top:.15em;margin-right:.05em;margin-left:0"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit" style="margin-right:.05724em">j</span><span class="mord mathit" style="margin-right:.03148em">k</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0">​</span></span>​</span></span></span></span></span></span> for <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>j</mi><mo>∈</mo><mi>o</mi><mo separator="true">,</mo><mi>k</mi><mo>∈</mo><mi>q</mi></mrow><annotation encoding="application/x-tex">j\in o, k\in q</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:.69444em"></span><span class="strut bottom" style="height:.8888799999999999em;vertical-align:-.19444em"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:.05724em">j</span><span class="mrel">∈</span><span class="mord mathit">o</span><span class="mpunct">,</span><span class="mord mathit" style="margin-right:.03148em">k</span><span class="mrel">∈</span><span class="mord mathit" style="margin-right:.03588em">q</span></span></span></span> be the number of calculator split for quiet area accepted to the library to maximize total efficiency</li><li>let variable <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>C</mi><mi>Q</mi><msub><mn>2</mn><mrow><mi>j</mi><mi>k</mi></mrow></msub></mrow><annotation encoding="application/x-tex">CQ2_{jk}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:.68333em"></span><span class="strut bottom" style="height:.969438em;vertical-align:-.286108em"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:.07153em">C</span><span class="mord mathit">Q</span><span class="mord"><span class="mord mathrm">2</span><span class="vlist"><span style="top:.15em;margin-right:.05em;margin-left:0"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit" style="margin-right:.05724em">j</span><span class="mord mathit" style="margin-right:.03148em">k</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0">​</span></span>​</span></span></span></span></span></span> for <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>j</mi><mo>∈</mo><mi>o</mi><mo separator="true">,</mo><mi>k</mi><mo>∈</mo><mi>q</mi></mrow><annotation encoding="application/x-tex">j\in o, k\in q</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:.69444em"></span><span class="strut bottom" style="height:.8888799999999999em;vertical-align:-.19444em"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:.05724em">j</span><span class="mrel">∈</span><span class="mord mathit">o</span><span class="mpunct">,</span><span class="mord mathit" style="margin-right:.03148em">k</span><span class="mrel">∈</span><span class="mord mathit" style="margin-right:.03588em">q</span></span></span></span> be the number of calculator accepted to the library to maximize total efficiency</li><li>let <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>C</mi><mi>F</mi></mrow><annotation encoding="application/x-tex">CF</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:.68333em"></span><span class="strut bottom" style="height:.68333em;vertical-align:0"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:.07153em">C</span><span class="mord mathit" style="margin-right:.13889em">F</span></span></span></span> be the increment factor of efficiency of using calculator, let <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>S</mi><mi>W</mi><mi>P</mi><mi>Q</mi></mrow><annotation encoding="application/x-tex">SWPQ</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:.68333em"></span><span class="strut bottom" style="height:.8777699999999999em;vertical-align:-.19444em"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:.05764em">S</span><span class="mord mathit" style="margin-right:.13889em">W</span><span class="mord mathit" style="margin-right:.13889em">P</span><span class="mord mathit">Q</span></span></span></span> be the factor of efficiency of switch from public to quiet</li><li>Let <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi><mi>P</mi><msub><mi>Q</mi><mrow><mi>j</mi><mi>k</mi></mrow></msub></mrow><annotation encoding="application/x-tex">NPQ_{jk}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:.68333em"></span><span class="strut bottom" style="height:.969438em;vertical-align:-.286108em"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:.10903em">N</span><span class="mord mathit" style="margin-right:.13889em">P</span><span class="mord"><span class="mord mathit">Q</span><span class="vlist"><span style="top:.15em;margin-right:.05em;margin-left:0"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit" style="margin-right:.05724em">j</span><span class="mord mathit" style="margin-right:.03148em">k</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0">​</span></span>​</span></span></span></span></span></span> for <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>j</mi><mo>∈</mo><mi>o</mi><mo separator="true">,</mo><mi>k</mi><mo>∈</mo><mi>q</mi></mrow><annotation encoding="application/x-tex">j\in o, k\in q</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:.69444em"></span><span class="strut bottom" style="height:.8888799999999999em;vertical-align:-.19444em"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:.05724em">j</span><span class="mrel">∈</span><span class="mord mathit">o</span><span class="mpunct">,</span><span class="mord mathit" style="margin-right:.03148em">k</span><span class="mrel">∈</span><span class="mord mathit" style="margin-right:.03588em">q</span></span></span></span> be the number of people requested to stay in the library.</li><li>Let <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi><mi>C</mi><msub><mi>Q</mi><mrow><mi>j</mi><mi>k</mi></mrow></msub></mrow><annotation encoding="application/x-tex">NCQ_{jk}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:.68333em"></span><span class="strut bottom" style="height:.969438em;vertical-align:-.286108em"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:.10903em">N</span><span class="mord mathit" style="margin-right:.07153em">C</span><span class="mord"><span class="mord mathit">Q</span><span class="vlist"><span style="top:.15em;margin-right:.05em;margin-left:0"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit" style="margin-right:.05724em">j</span><span class="mord mathit" style="margin-right:.03148em">k</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0">​</span></span>​</span></span></span></span></span></span> for <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>j</mi><mo>∈</mo><mi>o</mi><mo separator="true">,</mo><mi>k</mi><mo>∈</mo><mi>q</mi></mrow><annotation encoding="application/x-tex">j\in o, k\in q</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:.69444em"></span><span class="strut bottom" style="height:.8888799999999999em;vertical-align:-.19444em"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:.05724em">j</span><span class="mrel">∈</span><span class="mord mathit">o</span><span class="mpunct">,</span><span class="mord mathit" style="margin-right:.03148em">k</span><span class="mrel">∈</span><span class="mord mathit" style="margin-right:.03588em">q</span></span></span></span> be the number of calculator requested to stay in the library.</li><li>Let <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>S</mi><msub><mi>Q</mi><mrow><mi>m</mi></mrow></msub></mrow><annotation encoding="application/x-tex">SQ_{m}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:.68333em"></span><span class="strut bottom" style="height:.8777699999999999em;vertical-align:-.19444em"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:.05764em">S</span><span class="mord"><span class="mord mathit">Q</span><span class="vlist"><span style="top:.15em;margin-right:.05em;margin-left:0"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">m</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0">​</span></span>​</span></span></span></span></span></span> for <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi><mo>∈</mo><mi>q</mi><mi>i</mi></mrow><annotation encoding="application/x-tex">m\in qi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:.65952em"></span><span class="strut bottom" style="height:.85396em;vertical-align:-.19444em"></span><span class="base textstyle uncramped"><span class="mord mathit">m</span><span class="mrel">∈</span><span class="mord mathit" style="margin-right:.03588em">q</span><span class="mord mathit">i</span></span></span></span> be a binary variable record which people is selected</li><li>Let <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>S</mi><mi>Q</mi><msub><mi>C</mi><mrow><mi>m</mi></mrow></msub></mrow><annotation encoding="application/x-tex">SQC_{m}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:.68333em"></span><span class="strut bottom" style="height:.8777699999999999em;vertical-align:-.19444em"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:.05764em">S</span><span class="mord mathit">Q</span><span class="mord"><span class="mord mathit" style="margin-right:.07153em">C</span><span class="vlist"><span style="top:.15em;margin-right:.05em;margin-left:-.07153em"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">m</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0">​</span></span>​</span></span></span></span></span></span> for <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi><mo>∈</mo><mi>q</mi><mi>i</mi></mrow><annotation encoding="application/x-tex">m\in qi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:.65952em"></span><span class="strut bottom" style="height:.85396em;vertical-align:-.19444em"></span><span class="base textstyle uncramped"><span class="mord mathit">m</span><span class="mrel">∈</span><span class="mord mathit" style="margin-right:.03588em">q</span><span class="mord mathit">i</span></span></span></span> be a binary variable record which people has calculator</li></ul><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>M</mi><mi>a</mi><mi>x</mi><msub><mo>∑</mo><mrow><mi>k</mi><mo>∈</mo><mi>q</mi></mrow></msub><msubsup><mi>E</mi><mrow><mi>k</mi></mrow><mi>T</mi></msubsup><mo>(</mo><msub><mo>∑</mo><mrow><mi>j</mi><mo>∈</mo><mi>o</mi></mrow></msub><mo>(</mo><msub><mi>Q</mi><mrow><mi>j</mi><mi>k</mi></mrow></msub><mo>+</mo><mi>C</mi><mi>Q</mi><msub><mn>1</mn><mrow><mi>j</mi><mi>k</mi></mrow></msub><mo>∗</mo><mi>C</mi><mi>F</mi><mo>+</mo><mo>(</mo><msub><mo>∑</mo><mrow><mi>l</mi><mo>∈</mo><mi>t</mi><mi>y</mi></mrow></msub><mi>P</mi><mn>2</mn><msub><mi>Q</mi><mrow><mi>l</mi><mi>j</mi><mi>k</mi></mrow></msub><mo>+</mo><mi>C</mi><mi>Q</mi><msub><mn>2</mn><mrow><mi>j</mi><mi>k</mi></mrow></msub><mo>∗</mo><mi>C</mi><mi>F</mi><mo>)</mo><mo>∗</mo><mi>S</mi><mi>W</mi><mi>P</mi><mi>Q</mi><mo>)</mo><mo>)</mo></mrow><annotation encoding="application/x-tex">Max \sum_{k\in q}E_{k}^T(\sum_{j\in o}(Q_{jk}+CQ1_{jk}*CF+(\sum_{l\in ty}P2Q_{ljk}+CQ2_{jk}*CF)*SWPQ))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:1.050005em"></span><span class="strut bottom" style="height:2.488226em;vertical-align:-1.438221em"></span><span class="base displaystyle textstyle uncramped"><span class="mord mathit" style="margin-right:.10903em">M</span><span class="mord mathit">a</span><span class="mord mathit">x</span><span class="mop op-limits"><span class="vlist"><span style="top:1.202113em;margin-left:0"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit" style="margin-right:.03148em">k</span><span class="mrel">∈</span><span class="mord mathit" style="margin-right:.03588em">q</span></span></span></span><span style="top:-.000005000000000032756em"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0">​</span></span><span><span class="op-symbol large-op mop">∑</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0">​</span></span>​</span></span></span><span class="mord"><span class="mord mathit" style="margin-right:.05764em">E</span><span class="vlist"><span style="top:.247em;margin-left:-.05764em;margin-right:.05em"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit" style="margin-right:.03148em">k</span></span></span></span><span style="top:-.4129999999999999em;margin-right:.05em"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord mathit" style="margin-right:.13889em">T</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0">​</span></span>​</span></span></span><span class="mopen">(</span><span class="mop op-limits"><span class="vlist"><span style="top:1.177669em;margin-left:0"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit" style="margin-right:.05724em">j</span><span class="mrel">∈</span><span class="mord mathit">o</span></span></span></span><span style="top:-.000005000000000032756em"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0">​</span></span><span><span class="op-symbol large-op mop">∑</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0">​</span></span>​</span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathit">Q</span><span class="vlist"><span style="top:.15em;margin-right:.05em;margin-left:0"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit" style="margin-right:.05724em">j</span><span class="mord mathit" style="margin-right:.03148em">k</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0">​</span></span>​</span></span></span><span class="mbin">+</span><span class="mord mathit" style="margin-right:.07153em">C</span><span class="mord mathit">Q</span><span class="mord"><span class="mord mathrm">1</span><span class="vlist"><span style="top:.15em;margin-right:.05em;margin-left:0"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit" style="margin-right:.05724em">j</span><span class="mord mathit" style="margin-right:.03148em">k</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0">​</span></span>​</span></span></span><span class="mbin">∗</span><span class="mord mathit" style="margin-right:.07153em">C</span><span class="mord mathit" style="margin-right:.13889em">F</span><span class="mbin">+</span><span class="mopen">(</span><span class="mop op-limits"><span class="vlist"><span style="top:1.202113em;margin-left:0"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit" style="margin-right:.01968em">l</span><span class="mrel">∈</span><span class="mord mathit">t</span><span class="mord mathit" style="margin-right:.03588em">y</span></span></span></span><span style="top:-.000005000000000032756em"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0">​</span></span><span><span class="op-symbol large-op mop">∑</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0">​</span></span>​</span></span></span><span class="mord mathit" style="margin-right:.13889em">P</span><span class="mord mathrm">2</span><span class="mord"><span class="mord mathit">Q</span><span class="vlist"><span style="top:.15em;margin-right:.05em;margin-left:0"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit" style="margin-right:.01968em">l</span><span class="mord mathit" style="margin-right:.05724em">j</span><span class="mord mathit" style="margin-right:.03148em">k</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0">​</span></span>​</span></span></span><span class="mbin">+</span><span class="mord mathit" style="margin-right:.07153em">C</span><span class="mord mathit">Q</span><span class="mord"><span class="mord mathrm">2</span><span class="vlist"><span style="top:.15em;margin-right:.05em;margin-left:0"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit" style="margin-right:.05724em">j</span><span class="mord mathit" style="margin-right:.03148em">k</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0">​</span></span>​</span></span></span><span class="mbin">∗</span><span class="mord mathit" style="margin-right:.07153em">C</span><span class="mord mathit" style="margin-right:.13889em">F</span><span class="mclose">)</span><span class="mbin">∗</span><span class="mord mathit" style="margin-right:.05764em">S</span><span class="mord mathit" style="margin-right:.13889em">W</span><span class="mord mathit" style="margin-right:.13889em">P</span><span class="mord mathit">Q</span><span class="mclose">)</span><span class="mclose">)</span></span></span></span></span></p>\begin{align} \begin{split} s.t.\quad & CQ1_{jk} + CQ2_{jk} \le NCQ_{jk} && \forall j\in o,k\in q \\ & Q_{jk} \le NPQ_{jk}&&\forall j\in o,k\in q\\ & 1000\ge QC&\\ & \sum_{j,k}Q_{jk}+\sum_{l,j,k}P2Q_{ljk}\le QC &&\forall i\in o, \forall Q_{jk}\in sq_{ijk}, \forall P2Q_{ljk}\in sp_{ijk} \\ & \sum_{m\in qi} SQ_{m} = Q_{jk}&& \forall j\in o, k\in q,\forall m\in \{m | Quiet_{m"enter"}=j\\ &&& \&Quiet_{m"hours"}=k\}\\ & \sum_{m\in qi} SQC_{m} \ge CQ1_{jk} + CQ2_{jk} && \forall j\in o, k\in q,\forall m\in \{m | Quiet_{m"enter"}=j\\ &&& \&Quiet_{m"hours"}=k\& Quiet_{m"Calculator"}=1\}\\ & \sum_{j,k}(CQ1_{jk} + CQ2_{jk})\le 20 &&\forall i\in o, \forall CQ1_{jk}, CQ2_{jk}\in sq_{ijk} \\ & CQ1_{jk} \le Q_{jk}+Q2P_{jk}&&\forall i\in o, k\in q \end{split} \end{align}<p>Most of other formulas for the entire project is similiar to the methods using above, so we choose to not write them.</p><p>For the solutions, see <a href="#p1">here</a> for solution of obj1, <a href="#p2">here</a> for solution of obj2, <a href="#p33">here</a> for solution of obj3</p><h4 id="processing-of-the-solution"><a class="markdownIt-Anchor" href="#processing-of-the-solution"></a> Processing of the solution</h4><p><br><a href="#p1">processing for the first objective</a></p><img src="/2019/projects/College-library-optimization-problem/output_9_4.png" title="test"><p><br><a href="#p2">processing for the second objective</a></p><img src="/2019/projects/College-library-optimization-problem/output_18_3.png" title="test"><p><br><a href="#p33">processing for the third objective</a></p><img src="/2019/projects/College-library-optimization-problem/output_23_1.png" title="test"><h4 id="some-brief-conclusion"><a class="markdownIt-Anchor" href="#some-brief-conclusion"></a> Some brief conclusion</h4><p><br>As shown in area below<br><br><a href="#c1">Conclusion for the first objective</a><br>Based on our problem, (the total_limit is 1000), there are no significant difference between borrowing equipments and not borrowing equipments. But if we look into a smaller scalar problem, there are difference betweeen those two cases. The reason for it is that borrowing equipment has a low chance to happen.</p><p>For the conclusion, library need to arrange 321 seats for public area and 679 seats for quiet area in order to maxmize students’ total efficiency in the busy hours. We also demostrate a permission list but we think it is not unique and it is not as important as seats arrangement. So, we represented it but not discuss a lot about it.</p><p><br><a href="#c2">Conclusion for the second objective</a><br>As we mentioned in the problem, we provided the permission in each case. But it is not useful.</p><p>By using the graph, we could clearly see that more quiet seats need to be arranged when students get bussier. This might be a guidance for library to provide different arrangement of seats in different time period.</p><p><br><a href="#c31">Conclusion for the third objective</a><br>As we could see on the graph that the slope goes down at point around 1200. So for the bussiest season, school do need to buy more chairs for students to study.</p><p><br><a href="#c3">Conclusion for the entire objective</a><br>As we could see on the graph that the slope goes down at point around 1200. So for the bussiest season, school do need to buy more chairs for students to study.</p><h4 id="further-thoughts"><a class="markdownIt-Anchor" href="#further-thoughts"></a> Further thoughts:</h4><p><br>Furthermore, there are lots of improvements that could be done.</p><ul><li><p>Since our model separates the public and quiet areas in our parameter, it is hard for us to simplify our model. In the future model, we could try to combine these two into one parameter to make it simplier.</p></li><li><p>The constraints, dealing ways might need to be improved. And there might be some small errors as there are too many equations. We checked them for multiple times, but it is hard to guarantee that every place is perfectly correct.</p></li><li><p>And the model could only make sense if they have the real data input. Right now, we only have fake data.</p></li><li><p>Solution is not unique(for selection of people). Maybe we don’t have to find which person should be given the permission. We could find the number of people we should accept in each case.</p></li><li><p>we always want to keep minimum change to what we setup in the previous submission, A lot of places could be improved actually. Like obj2, execute_load command would be better.</p></li><li><p>like what we discussed in <a href="#p3">obj3</a>, some more discoveries could be done, including if the library needs to buy more calculators or not.</p></li><li><p>And, not all people are on time in real case. In this problem, we assume data are collected from survey or somethimg. So, there is no person would have a time duration of 2:15. But in real case, this would happen. So, it would be helpful to invite error vectors to describe this and form the problem.</p></li></ul><h2 id="solution"><a class="markdownIt-Anchor" href="#solution"></a> Solution:</h2><p>Important startup of jupyter notebook interface:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> IPython.core.display <span class="keyword">import</span> display, HTML</span><br><span class="line">display(HTML(<span class="string">"&lt;style&gt;.container &#123; width:95% !important; &#125;&lt;/style&gt;"</span>))</span><br><span class="line"><span class="comment"># Load the gams extension</span></span><br><span class="line">%load_ext gams_magic</span><br><span class="line">%matplotlib inline</span><br><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> pyplot <span class="keyword">as</span> plt</span><br></pre></td></tr></table></figure><p><a id="o11"></a></p><h4 id="objective1-2"><a class="markdownIt-Anchor" href="#objective1-2"></a> Objective1:</h4><p>How to arrange seats in the library to try the best to meet the requirement of student’s thought in data.gdx and maximize the total efficiency of students using the library? Also, which student will be permitted of entering this library?</p><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">%%gams </span><br><span class="line"><span class="comment">* initialize data</span></span><br><span class="line"><span class="meta"><span class="meta-keyword">$title</span> College library optimization problem     Katherine Fu &amp; Shaokang Jiang</span></span><br><span class="line"><span class="keyword">set</span> public_i, public_j, quiet_i, quiet_j, hours /<span class="number">1</span>*<span class="number">10</span>/<span class="comment">, public_hour(hours)</span> /<span class="number">1</span>*<span class="number">6</span>/<span class="comment">, quiet_hour(hours)</span> /<span class="number">1</span>*<span class="number">10</span>/<span class="comment">, enter_hour</span> /<span class="number">8</span>*<span class="number">20</span>/<span class="comment">, types</span> <span class="comment">"1:project 2:chatting"</span> /<span class="number">1</span>*<span class="number">2</span>/;</span><br><span class="line"><span class="keyword">alias</span>(enter_hour, o);</span><br><span class="line"><span class="keyword">parameter</span></span><br><span class="line">    Public(public_i,public_j),</span><br><span class="line">    Quiet(quiet_i,quiet_j)</span><br><span class="line">    n_pe_public(types, enter_hour, public_hour)</span><br><span class="line">    n_pe_quiet(enter_hour, quiet_hour)</span><br><span class="line">    eff_public(types, public_hour)</span><br><span class="line">    eff_quiet(quiet_hour);</span><br><span class="line"><span class="keyword">option</span> optcr = <span class="number">0</span>;</span><br><span class="line"><span class="meta"><span class="meta-keyword">$gdxin</span> data.gdx</span></span><br><span class="line"><span class="meta"><span class="meta-keyword">$load</span> public_i&lt;Public.dim1 public_j&lt;Public.dim2 Public=Public</span></span><br><span class="line"><span class="meta"><span class="meta-keyword">$load</span> quiet_i&lt;Quiet.dim1 quiet_j&lt;Quiet.dim2 Quiet=Quiet</span></span><br><span class="line"><span class="meta"><span class="meta-keyword">$gdxin</span></span></span><br><span class="line"><span class="keyword">scalar</span> total_limit /<span class="number">1000</span>/<span class="comment">, chat_low</span> /<span class="number">10</span>/<span class="comment">, q2p</span> <span class="comment">"switch efficiency factor"</span> /<span class="number">0.8</span>/<span class="comment">, p2q</span> <span class="comment">"switch efficiency factor"</span> /<span class="number">0.3</span>/;</span><br><span class="line"></span><br><span class="line"><span class="comment">* dynamic set of visibility</span></span><br><span class="line"><span class="keyword">set</span> visible_public(o, enter_hour, public_hour) <span class="comment">"For entity at o, (enter_hour, public_hour) are accessible nodes, mean # of ppl sit on it"</span></span><br><span class="line">    visible_quiet(o, enter_hour, quiet_hour) <span class="comment">"For entity at o, (enter_hour, public_hour) are accessible nodes, mean # of ppl sit on it"</span>;</span><br><span class="line">visible_public(o, enter_hour, public_hour) = <span class="keyword">yes</span><span class="symbol">$</span>(<span class="keyword">ord</span>(o)&lt;<span class="keyword">ord</span>(enter_hour)+<span class="keyword">ord</span>(public_hour) <span class="keyword">and</span> <span class="keyword">ord</span>(o)&gt;=<span class="keyword">ord</span>(enter_hour));</span><br><span class="line">visible_quiet(o, enter_hour, quiet_hour) = <span class="keyword">yes</span><span class="symbol">$</span>(<span class="keyword">ord</span>(o)&lt;<span class="keyword">ord</span>(enter_hour)+<span class="keyword">ord</span>(quiet_hour) <span class="keyword">and</span> <span class="keyword">ord</span>(o)&gt;=<span class="keyword">ord</span>(enter_hour));</span><br><span class="line"></span><br><span class="line"><span class="comment">* calculate the base total efficiency for each (enter_hour, quiet_hour)</span></span><br><span class="line">eff_public(<span class="string">"1"</span>, public_hour) = (<span class="number">1.1</span>*<span class="keyword">ord</span>(public_hour))<span class="symbol">$</span>(<span class="keyword">ord</span>(public_hour)&lt;=<span class="number">2</span>) + (<span class="number">1.2</span>+<span class="number">0.5</span>*<span class="keyword">ord</span>(public_hour))<span class="symbol">$</span>(<span class="keyword">ord</span>(public_hour)&gt;<span class="number">2</span>);</span><br><span class="line">eff_public(<span class="string">"2"</span>, public_hour) = (<span class="number">0.12</span>*<span class="keyword">ord</span>(public_hour))<span class="symbol">$</span>(<span class="keyword">ord</span>(public_hour)&lt;=<span class="number">4</span>) + (<span class="number">0.28</span>+<span class="number">0.05</span>*<span class="keyword">ord</span>(public_hour))<span class="symbol">$</span>(<span class="keyword">ord</span>(public_hour)&gt;<span class="number">4</span>);</span><br><span class="line">eff_quiet(quiet_hour) = (<span class="keyword">ord</span>(quiet_hour))<span class="symbol">$</span>(<span class="keyword">ord</span>(quiet_hour)&lt;=<span class="number">5</span>) + (<span class="number">2</span>+<span class="number">0.6</span>*<span class="keyword">ord</span>(quiet_hour))<span class="symbol">$</span>(<span class="keyword">ord</span>(quiet_hour)&gt;<span class="number">5</span>);</span><br></pre></td></tr></table></figure><p><a id="o1s1"></a></p><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">%%gams</span><br><span class="line"><span class="comment">* declare variables for first model to use</span></span><br><span class="line"><span class="keyword">integer</span> <span class="keyword">variables</span> public_chair <span class="comment">"# of chairs for public area"</span><span class="comment">, quiet_chair</span> <span class="comment">"# of chairs for quiet area"</span><span class="comment">,</span></span><br><span class="line">            public_arrange(types, enter_hour, public_hour) <span class="comment">"# of chairs for types for public area at hour enter_hour and stay at here for public_hour"</span><span class="comment">,</span></span><br><span class="line">            quiet_arrange(enter_hour, quiet_hour) <span class="comment">"# of chairs for quiet area at hour enter_hour and stay at here for quiet hour"</span></span><br><span class="line">            switch_q2p(enter_hour, quiet_hour) <span class="comment">"# of chairs switched from quiet area to public area"</span></span><br><span class="line">            switch_p2q(types, enter_hour, public_hour) <span class="comment">"# of chairs switched from public area to quiet area"</span>;</span><br><span class="line">public_chair.up = total_limit;</span><br><span class="line">quiet_chair.up = total_limit;</span><br><span class="line">public_arrange.up(types, enter_hour, public_hour) = total_limit;</span><br><span class="line">quiet_arrange.up(enter_hour, quiet_hour) = total_limit;</span><br><span class="line">switch_q2p.up(enter_hour, quiet_hour) = total_limit;</span><br><span class="line">switch_p2q.up(types, enter_hour, public_hour) = total_limit;</span><br><span class="line"><span class="keyword">free</span> <span class="keyword">variable</span> total_efficiency;</span><br><span class="line"><span class="keyword">binary</span> <span class="keyword">variable</span> select_public(public_i), select_quiet(quiet_i);</span><br><span class="line"></span><br><span class="line"><span class="comment">* calculate total number of people</span></span><br><span class="line">n_pe_public(types, enter_hour, public_hour) = <span class="keyword">sum</span>(public_i, <span class="number">1</span><span class="symbol">$</span>(Public(public_i,<span class="string">"enter"</span>) = <span class="number">7</span>+<span class="keyword">ord</span>(enter_hour) <span class="keyword">and</span> Public(public_i,<span class="string">"hours"</span>) = <span class="keyword">ord</span>(public_hour) <span class="keyword">and</span> Public(public_i,<span class="string">"type"</span>) = <span class="keyword">ord</span>(types)<span class="number">-1</span>));</span><br><span class="line">n_pe_quiet(enter_hour, quiet_hour) = <span class="keyword">sum</span>(quiet_i, <span class="number">1</span><span class="symbol">$</span>((Quiet(quiet_i,<span class="string">"enter"</span>) = <span class="number">7</span>+<span class="keyword">ord</span>(enter_hour)) <span class="keyword">and</span> (Quiet(quiet_i,<span class="string">"hours"</span>) = <span class="keyword">ord</span>(quiet_hour))));</span><br><span class="line"></span><br><span class="line"><span class="keyword">equations</span> conn1 <span class="comment">"connection between public_chair and public_arrange and switch_q2p at every time"</span></span><br><span class="line">          conn2 <span class="comment">"connection between quiet_chair and quiet_arrange and switch_p2q"</span></span><br><span class="line">          objective <span class="comment">"Calculate the total efficiency"</span></span><br><span class="line">          limit <span class="comment">"limitation of total chairs"</span></span><br><span class="line">          people_public <span class="comment">"restriction of # of people in public area"</span></span><br><span class="line">          people_quiet <span class="comment">"restriction of # of people in quiet area"</span></span><br><span class="line">          selection_public <span class="comment">"people selected at public area"</span></span><br><span class="line">          selection_quiet <span class="comment">"people selected at quiet area"</span></span><br><span class="line">          chatting_lower <span class="comment">"Hold constraints for the lower limitation for chatting people"</span>;</span><br><span class="line"><span class="function"><span class="title">conn1</span>(<span class="params">o</span>)</span>..</span><br><span class="line">    <span class="keyword">sum</span>((types, enter_hour, public_hour), public_arrange(types, enter_hour, public_hour)<span class="symbol">$</span>visible_public(o, enter_hour, public_hour)) + <span class="keyword">sum</span>((enter_hour, quiet_hour), switch_q2p(enter_hour, quiet_hour)<span class="symbol">$</span>visible_quiet(o, enter_hour, quiet_hour)) <span class="symbol">=l=</span> public_chair;</span><br><span class="line"><span class="function"><span class="title">conn2</span>(<span class="params">o</span>)</span>..</span><br><span class="line">    <span class="keyword">sum</span>((enter_hour, quiet_hour), quiet_arrange(enter_hour, quiet_hour)<span class="symbol">$</span>visible_quiet(o, enter_hour, quiet_hour)) + <span class="keyword">sum</span>((types, enter_hour, public_hour), switch_p2q(types, enter_hour, public_hour)<span class="symbol">$</span>visible_public(o, enter_hour, public_hour)) <span class="symbol">=l=</span> quiet_chair;</span><br><span class="line"><span class="function"><span class="title">limit</span></span>..</span><br><span class="line">    total_limit <span class="symbol">=g=</span> public_chair + quiet_chair;</span><br><span class="line"><span class="function"><span class="title">objective</span></span>..</span><br><span class="line">    total_efficiency <span class="symbol">=e=</span> <span class="keyword">sum</span>((types, enter_hour, public_hour), public_arrange(types, enter_hour, public_hour)*eff_public(types, public_hour) + switch_p2q(types, enter_hour, public_hour)*eff_public(types, public_hour)*p2q) +</span><br><span class="line">                         <span class="keyword">sum</span>((enter_hour, quiet_hour), quiet_arrange(enter_hour, quiet_hour)*eff_quiet(quiet_hour) + switch_q2p(enter_hour, quiet_hour)*eff_quiet(quiet_hour)*q2p);</span><br><span class="line"><span class="function"><span class="title">people_public</span>(<span class="params">types, enter_hour, public_hour</span>)</span>..</span><br><span class="line">    public_arrange(types, enter_hour, public_hour) + switch_p2q(types, enter_hour, public_hour) <span class="symbol">=l=</span> n_pe_public(types, enter_hour, public_hour);</span><br><span class="line"><span class="function"><span class="title">people_quiet</span>(<span class="params">enter_hour, quiet_hour</span>)</span>..</span><br><span class="line">    quiet_arrange(enter_hour, quiet_hour) + switch_q2p(enter_hour, quiet_hour) <span class="symbol">=l=</span> n_pe_quiet(enter_hour, quiet_hour);</span><br><span class="line"><span class="function"><span class="title">selection_quiet</span>(<span class="params">enter_hour, quiet_hour</span>)</span>..</span><br><span class="line">    <span class="keyword">sum</span>((quiet_i)<span class="symbol">$</span>(Quiet(quiet_i,<span class="string">"enter"</span>)=<span class="number">7</span>+<span class="keyword">ord</span>(enter_hour) <span class="keyword">and</span> Quiet(quiet_i,<span class="string">"hours"</span>)=<span class="keyword">ord</span>(quiet_hour)), select_quiet(quiet_i)) <span class="symbol">=e=</span> quiet_arrange(enter_hour, quiet_hour) + switch_q2p(enter_hour, quiet_hour);</span><br><span class="line"><span class="function"><span class="title">selection_public</span>(<span class="params">types, enter_hour, public_hour</span>)</span>..</span><br><span class="line">    <span class="keyword">sum</span>((public_i)<span class="symbol">$</span>(Public(public_i,<span class="string">"type"</span>)=<span class="keyword">ord</span>(types)<span class="number">-1</span> <span class="keyword">and</span> Public(public_i,<span class="string">"enter"</span>)=<span class="number">7</span>+<span class="keyword">ord</span>(enter_hour) <span class="keyword">and</span> Public(public_i,<span class="string">"hours"</span>)=<span class="keyword">ord</span>(public_hour)), select_public(public_i)) <span class="symbol">=e=</span> switch_p2q(types, enter_hour, public_hour) + public_arrange(types, enter_hour, public_hour);</span><br><span class="line"><span class="function"><span class="title">chatting_lower</span></span>..</span><br><span class="line">    <span class="keyword">sum</span>((enter_hour, public_hour), public_arrange(<span class="string">"2"</span>, enter_hour, public_hour)) <span class="symbol">=g=</span> chat_low;</span><br><span class="line"><span class="keyword">model</span> simple_obj1 /conn1, conn2, limit, objective, people_public, people_quiet, selection_quiet, selection_public, chatting_lower/;</span><br><span class="line"><span class="keyword">solve</span> simple_obj1 <span class="keyword">using</span> mip maxmizing total_efficiency;</span><br><span class="line"></span><br><span class="line"><span class="keyword">set</span> run /<span class="number">1</span>*<span class="number">2</span>/<span class="comment">, room</span> /public, quiet/;</span><br><span class="line"><span class="keyword">parameter</span> selection_quiet_(run, quiet_i), selection_public_(run, public_i), chairs(run, room);</span><br><span class="line">selection_public_(<span class="string">"1"</span>, public_i) = select_public.l(public_i);</span><br><span class="line">selection_quiet_(<span class="string">"1"</span>, quiet_i) = select_quiet.l(quiet_i);</span><br><span class="line">chairs(<span class="string">"1"</span>, <span class="string">"public"</span>) = public_chair.l; </span><br><span class="line">chairs(<span class="string">"1"</span>, <span class="string">"quiet"</span>) = quiet_chair.l;</span><br></pre></td></tr></table></figure><table class="highlight1"><thead><tr style="text-align:right"><th></th><th>Solver Status</th><th>Model Status</th><th>Objective</th><th>#equ</th><th>#var</th><th>Model Type</th><th>Solver</th><th>Solver Time</th></tr></thead><tbody><tr><td>0</td><td>Normal (1)</td><td>Optimal Global (1)</td><td>9699.148</td><td>601</td><td>4403</td><td>MIP</td><td>CPLEX</td><td>0.038</td></tr></tbody></table><p><a id="o1s2"></a></p><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line">%%gams</span><br><span class="line"><span class="comment">* increment of scalar for each factor</span></span><br><span class="line"><span class="keyword">scalar</span> calculator_factor /<span class="number">0.2</span>/<span class="comment">, laptop_factor</span> /<span class="number">0.1</span>/<span class="comment">, charger_factor</span> /<span class="number">0.3</span>/<span class="comment">, calculators</span> /<span class="number">30</span>/<span class="comment">, laptops</span> /<span class="number">10</span>/<span class="comment">, chargers</span> /<span class="number">10</span>/;</span><br><span class="line"></span><br><span class="line"><span class="comment">* represent the needs of each device at specific time.</span></span><br><span class="line"><span class="keyword">integer</span> <span class="keyword">variables</span> ca_need_public(types, enter_hour, public_hour)</span><br><span class="line">                  ca_need_quiet(enter_hour, quiet_hour)</span><br><span class="line">                  ch_need_public(types, enter_hour, public_hour)</span><br><span class="line">                  ch_need_quiet(enter_hour, quiet_hour)</span><br><span class="line">                  lap_need_public(types, enter_hour, public_hour)</span><br><span class="line">                  lap_need_quiet(enter_hour, quiet_hour);</span><br><span class="line">ca_need_public.up(types, enter_hour, public_hour) = <span class="keyword">sum</span>(public_i, Public(public_i,<span class="string">"Calculator"</span>)<span class="symbol">$</span>(Public(public_i,<span class="string">"enter"</span>) = <span class="number">7</span>+<span class="keyword">ord</span>(enter_hour) <span class="keyword">and</span> Public(public_i,<span class="string">"hours"</span>) = <span class="keyword">ord</span>(public_hour) <span class="keyword">and</span> Public(public_i,<span class="string">"type"</span>) = <span class="keyword">ord</span>(types)<span class="number">-1</span>));</span><br><span class="line">ca_need_quiet.up(enter_hour, quiet_hour) = <span class="keyword">sum</span>(quiet_i, Quiet(quiet_i,<span class="string">"Calculator"</span>)<span class="symbol">$</span>(Quiet(quiet_i,<span class="string">"enter"</span>) = <span class="number">7</span>+<span class="keyword">ord</span>(enter_hour) <span class="keyword">and</span> Quiet(quiet_i,<span class="string">"hours"</span>) = <span class="keyword">ord</span>(quiet_hour)));</span><br><span class="line">ch_need_public.up(types, enter_hour, public_hour) = <span class="keyword">sum</span>(public_i, Public(public_i,<span class="string">"charger"</span>)<span class="symbol">$</span>(Public(public_i,<span class="string">"enter"</span>) = <span class="number">7</span>+<span class="keyword">ord</span>(enter_hour) <span class="keyword">and</span> Public(public_i,<span class="string">"hours"</span>) = <span class="keyword">ord</span>(public_hour) <span class="keyword">and</span> Public(public_i,<span class="string">"type"</span>) = <span class="keyword">ord</span>(types)<span class="number">-1</span>));</span><br><span class="line">ch_need_quiet.up(enter_hour, quiet_hour) = <span class="keyword">sum</span>(quiet_i, Quiet(quiet_i,<span class="string">"charger"</span>)<span class="symbol">$</span>(Quiet(quiet_i,<span class="string">"enter"</span>) = <span class="number">7</span>+<span class="keyword">ord</span>(enter_hour) <span class="keyword">and</span> Quiet(quiet_i,<span class="string">"hours"</span>) = <span class="keyword">ord</span>(quiet_hour)));</span><br><span class="line">lap_need_public.up(types, enter_hour, public_hour) = <span class="keyword">sum</span>(public_i, Public(public_i,<span class="string">"laptop"</span>)<span class="symbol">$</span>(Public(public_i,<span class="string">"enter"</span>) = <span class="number">7</span>+<span class="keyword">ord</span>(enter_hour) <span class="keyword">and</span> Public(public_i,<span class="string">"hours"</span>) = <span class="keyword">ord</span>(public_hour) <span class="keyword">and</span> Public(public_i,<span class="string">"type"</span>) = <span class="keyword">ord</span>(types)<span class="number">-1</span>));</span><br><span class="line">lap_need_quiet.up(enter_hour, quiet_hour) = <span class="keyword">sum</span>(quiet_i, Quiet(quiet_i,<span class="string">"laptop"</span>)<span class="symbol">$</span>(Quiet(quiet_i,<span class="string">"enter"</span>) = <span class="number">7</span>+<span class="keyword">ord</span>(enter_hour) <span class="keyword">and</span> Quiet(quiet_i,<span class="string">"hours"</span>) = <span class="keyword">ord</span>(quiet_hour)));</span><br><span class="line"></span><br><span class="line"><span class="comment">* declaration for split variables</span></span><br><span class="line"><span class="keyword">integer</span> <span class="keyword">variables</span>                   </span><br><span class="line">                  ca_need_public_1(types, enter_hour, public_hour)</span><br><span class="line">                  ca_need_quiet_1(enter_hour, quiet_hour)</span><br><span class="line">                  ch_need_public_1(types, enter_hour, public_hour)</span><br><span class="line">                  ch_need_quiet_1(enter_hour, quiet_hour)</span><br><span class="line">                  lap_need_public_1(types, enter_hour, public_hour)</span><br><span class="line">                  lap_need_quiet_1(enter_hour, quiet_hour)</span><br><span class="line">                  ca_need_public_2(types, enter_hour, public_hour)</span><br><span class="line">                  ca_need_quiet_2(enter_hour, quiet_hour)</span><br><span class="line">                  ch_need_public_2(types, enter_hour, public_hour)</span><br><span class="line">                  ch_need_quiet_2(enter_hour, quiet_hour)</span><br><span class="line">                  lap_need_public_2(types, enter_hour, public_hour)</span><br><span class="line">                  lap_need_quiet_2(enter_hour, quiet_hour);</span><br><span class="line"><span class="comment">* ca_limit : limitation from total avaliable devices or limit concurrently exist object, ca_limit_quiet: limitation from calculator needs base</span></span><br><span class="line"><span class="keyword">equation</span> objective_refine, ca_limit_public, ca_limit_quiet, ch_limit_public, ch_limit_quiet, lap_limit_public, lap_limit_quiet,</span><br><span class="line">        selection_ca_pub, selection_ca_quiet, selection_ch_pub, selection_ch_quiet, selection_la_pub, selection_la_quiet,</span><br><span class="line">        ca_limit, ch_limit, la_limit, split_ca_pub, split_ca_quiet, split_ch_pub, split_ch_quiet, split_la_pub, split_la_quiet, split_limit_pub, split_limit_quiet;</span><br><span class="line"></span><br><span class="line"><span class="comment">* because we are maxmizing efficiency, so we only put calculate people to switch list if quiet_arrange is full</span></span><br><span class="line"><span class="function"><span class="title">objective_refine</span></span>..</span><br><span class="line">    total_efficiency <span class="symbol">=e=</span> <span class="keyword">sum</span>((types, enter_hour, public_hour), (public_arrange(types, enter_hour, public_hour)+ ca_need_public_1(types, enter_hour, public_hour)*calculator_factor + ch_need_public_1(types, enter_hour, public_hour)*charger_factor + lap_need_public_1(types, enter_hour, public_hour)*laptop_factor)*eff_public(types, public_hour)</span><br><span class="line">                                + (switch_p2q(types, enter_hour, public_hour) + ca_need_public_2(types, enter_hour, public_hour)*calculator_factor + ch_need_public_2(types, enter_hour, public_hour)*charger_factor + lap_need_public_2(types, enter_hour, public_hour)*laptop_factor)*eff_public(types, public_hour)*p2q) +</span><br><span class="line">                         <span class="keyword">sum</span>((enter_hour, quiet_hour), (quiet_arrange(enter_hour, quiet_hour) + ca_need_quiet_1(enter_hour, quiet_hour)*calculator_factor + ch_need_quiet_1(enter_hour, quiet_hour)*charger_factor + lap_need_quiet_1(enter_hour, quiet_hour)*laptop_factor)*eff_quiet(quiet_hour)</span><br><span class="line">                                + (switch_q2p(enter_hour, quiet_hour)+ ca_need_quiet_2(enter_hour, quiet_hour)*calculator_factor + ch_need_quiet_2(enter_hour, quiet_hour)*charger_factor + lap_need_quiet_2(enter_hour, quiet_hour)*laptop_factor)*eff_quiet(quiet_hour)*q2p);</span><br><span class="line"><span class="comment">* this series of equations should be =g= because it is permitted that 4 people are permitted to come to the library but the library only have 3 calculators.</span></span><br><span class="line"><span class="function"><span class="title">selection_ca_pub</span>(<span class="params">types, enter_hour, public_hour</span>)</span>..</span><br><span class="line">    <span class="keyword">sum</span>((public_i)<span class="symbol">$</span>(Public(public_i,<span class="string">"type"</span>)=<span class="keyword">ord</span>(types)<span class="number">-1</span> <span class="keyword">and</span> Public(public_i,<span class="string">"enter"</span>)=<span class="number">7</span>+<span class="keyword">ord</span>(enter_hour) <span class="keyword">and</span> Public(public_i,<span class="string">"hours"</span>)=<span class="keyword">ord</span>(public_hour) <span class="keyword">and</span> Public(public_i,<span class="string">"Calculator"</span>) = <span class="number">1</span>), select_public(public_i)) <span class="symbol">=g=</span> ca_need_public(types, enter_hour, public_hour);</span><br><span class="line"><span class="function"><span class="title">selection_ca_quiet</span>(<span class="params">enter_hour, quiet_hour</span>)</span>..</span><br><span class="line">    <span class="keyword">sum</span>((quiet_i)<span class="symbol">$</span>(Quiet(quiet_i,<span class="string">"enter"</span>)=<span class="number">7</span>+<span class="keyword">ord</span>(enter_hour) <span class="keyword">and</span> Quiet(quiet_i,<span class="string">"hours"</span>)=<span class="keyword">ord</span>(quiet_hour) <span class="keyword">and</span> Quiet(quiet_i,<span class="string">"Calculator"</span>) = <span class="number">1</span>), select_quiet(quiet_i)) <span class="symbol">=g=</span> ca_need_quiet(enter_hour, quiet_hour);</span><br><span class="line"><span class="function"><span class="title">selection_ch_pub</span>(<span class="params">types, enter_hour, public_hour</span>)</span>..</span><br><span class="line">    <span class="keyword">sum</span>((public_i)<span class="symbol">$</span>(Public(public_i,<span class="string">"type"</span>)=<span class="keyword">ord</span>(types)<span class="number">-1</span> <span class="keyword">and</span> Public(public_i,<span class="string">"enter"</span>)=<span class="number">7</span>+<span class="keyword">ord</span>(enter_hour) <span class="keyword">and</span> Public(public_i,<span class="string">"hours"</span>)=<span class="keyword">ord</span>(public_hour) <span class="keyword">and</span> Public(public_i,<span class="string">"charger"</span>) = <span class="number">1</span>), select_public(public_i)) <span class="symbol">=g=</span> ch_need_public(types, enter_hour, public_hour);</span><br><span class="line"><span class="function"><span class="title">selection_ch_quiet</span>(<span class="params">enter_hour, quiet_hour</span>)</span>..</span><br><span class="line">    <span class="keyword">sum</span>((quiet_i)<span class="symbol">$</span>(Quiet(quiet_i,<span class="string">"enter"</span>)=<span class="number">7</span>+<span class="keyword">ord</span>(enter_hour) <span class="keyword">and</span> Quiet(quiet_i,<span class="string">"hours"</span>)=<span class="keyword">ord</span>(quiet_hour) <span class="keyword">and</span> Quiet(quiet_i,<span class="string">"charger"</span>) = <span class="number">1</span>), select_quiet(quiet_i)) <span class="symbol">=g=</span> ch_need_quiet(enter_hour, quiet_hour);</span><br><span class="line"><span class="function"><span class="title">selection_la_pub</span>(<span class="params">types, enter_hour, public_hour</span>)</span>..</span><br><span class="line">    <span class="keyword">sum</span>((public_i)<span class="symbol">$</span>(Public(public_i,<span class="string">"type"</span>)=<span class="keyword">ord</span>(types)<span class="number">-1</span> <span class="keyword">and</span> Public(public_i,<span class="string">"enter"</span>)=<span class="number">7</span>+<span class="keyword">ord</span>(enter_hour) <span class="keyword">and</span> Public(public_i,<span class="string">"hours"</span>)=<span class="keyword">ord</span>(public_hour) <span class="keyword">and</span> Public(public_i,<span class="string">"laptop"</span>) = <span class="number">1</span>), select_public(public_i)) <span class="symbol">=g=</span> lap_need_public(types, enter_hour, public_hour);</span><br><span class="line"><span class="function"><span class="title">selection_la_quiet</span>(<span class="params">enter_hour, quiet_hour</span>)</span>..</span><br><span class="line">    <span class="keyword">sum</span>((quiet_i)<span class="symbol">$</span>(Quiet(quiet_i,<span class="string">"enter"</span>)=<span class="number">7</span>+<span class="keyword">ord</span>(enter_hour) <span class="keyword">and</span> Quiet(quiet_i,<span class="string">"hours"</span>)=<span class="keyword">ord</span>(quiet_hour) <span class="keyword">and</span> Quiet(quiet_i,<span class="string">"laptop"</span>) = <span class="number">1</span>), select_quiet(quiet_i)) <span class="symbol">=g=</span> lap_need_quiet(enter_hour, quiet_hour);   </span><br><span class="line"><span class="function"><span class="title">ca_limit</span>(<span class="params">o</span>)</span>..</span><br><span class="line">    <span class="keyword">sum</span>((types, enter_hour, public_hour), ca_need_public(types, enter_hour, public_hour)<span class="symbol">$</span>visible_public(o, enter_hour, public_hour)) + <span class="keyword">sum</span>((enter_hour, quiet_hour), ca_need_quiet(enter_hour, quiet_hour)<span class="symbol">$</span>visible_quiet(o, enter_hour, quiet_hour)) <span class="symbol">=l=</span> calculators;</span><br><span class="line"><span class="function"><span class="title">ch_limit</span>(<span class="params">o</span>)</span>..</span><br><span class="line">    <span class="keyword">sum</span>((types, enter_hour, public_hour), ch_need_public(types, enter_hour, public_hour)<span class="symbol">$</span>visible_public(o, enter_hour, public_hour)) + <span class="keyword">sum</span>((enter_hour, quiet_hour), ch_need_quiet(enter_hour, quiet_hour)<span class="symbol">$</span>visible_quiet(o, enter_hour, quiet_hour)) <span class="symbol">=l=</span> chargers;    </span><br><span class="line"><span class="function"><span class="title">la_limit</span>(<span class="params">o</span>)</span>..</span><br><span class="line">    <span class="keyword">sum</span>((types, enter_hour, public_hour), lap_need_public(types, enter_hour, public_hour)<span class="symbol">$</span>visible_public(o, enter_hour, public_hour)) + <span class="keyword">sum</span>((enter_hour, quiet_hour), lap_need_quiet(enter_hour, quiet_hour)<span class="symbol">$</span>visible_quiet(o, enter_hour, quiet_hour)) <span class="symbol">=l=</span> laptops;</span><br><span class="line"><span class="function"><span class="title">split_ca_pub</span>(<span class="params">types, enter_hour, public_hour</span>)</span>..</span><br><span class="line">    ca_need_public(types, enter_hour, public_hour) <span class="symbol">=e=</span> ca_need_public_1(types, enter_hour, public_hour) + ca_need_public_2(types, enter_hour, public_hour);</span><br><span class="line"><span class="function"><span class="title">split_ca_quiet</span>(<span class="params">enter_hour, quiet_hour</span>)</span>..</span><br><span class="line">    ca_need_quiet(enter_hour, quiet_hour) <span class="symbol">=e=</span> ca_need_quiet_1(enter_hour, quiet_hour) + ca_need_quiet_2(enter_hour, quiet_hour);</span><br><span class="line"><span class="function"><span class="title">split_ch_pub</span>(<span class="params">types, enter_hour, public_hour</span>)</span>..</span><br><span class="line">    ch_need_public(types, enter_hour, public_hour) <span class="symbol">=e=</span> ch_need_public_1(types, enter_hour, public_hour) + ch_need_public_2(types, enter_hour, public_hour);</span><br><span class="line"><span class="function"><span class="title">split_ch_quiet</span>(<span class="params">enter_hour, quiet_hour</span>)</span>..</span><br><span class="line">    ch_need_quiet(enter_hour, quiet_hour) <span class="symbol">=e=</span> ch_need_quiet_1(enter_hour, quiet_hour) + ch_need_quiet_2(enter_hour, quiet_hour);</span><br><span class="line"><span class="function"><span class="title">split_la_pub</span>(<span class="params">types, enter_hour, public_hour</span>)</span>..</span><br><span class="line">    lap_need_public(types, enter_hour, public_hour) <span class="symbol">=e=</span> lap_need_public_1(types, enter_hour, public_hour) + lap_need_public_2(types, enter_hour, public_hour);</span><br><span class="line"><span class="function"><span class="title">split_la_quiet</span>(<span class="params">enter_hour, quiet_hour</span>)</span>..</span><br><span class="line">    lap_need_quiet(enter_hour, quiet_hour) <span class="symbol">=e=</span> lap_need_quiet_1(enter_hour, quiet_hour) + lap_need_quiet_2(enter_hour, quiet_hour);</span><br><span class="line"><span class="function"><span class="title">split_limit_pub</span>(<span class="params">types, enter_hour, public_hour</span>)</span>..</span><br><span class="line">    ca_need_public_1(types, enter_hour, public_hour) + ch_need_public_1(types, enter_hour, public_hour) + lap_need_public_1(types, enter_hour, public_hour) <span class="symbol">=l=</span> public_arrange(types, enter_hour, public_hour);</span><br><span class="line"><span class="function"><span class="title">split_limit_quiet</span>(<span class="params">enter_hour, quiet_hour</span>)</span>..</span><br><span class="line">    ca_need_quiet_1(enter_hour, quiet_hour) + ch_need_quiet_1(enter_hour, quiet_hour) + lap_need_quiet_1(enter_hour, quiet_hour) <span class="symbol">=l=</span> quiet_arrange(enter_hour, quiet_hour);</span><br><span class="line"><span class="keyword">model</span> simple_obj2 /conn1, conn2, limit, objective_refine, selection_ca_pub, selection_ca_quiet, selection_ch_pub, selection_ch_quiet, selection_la_pub, selection_la_quiet,</span><br><span class="line">        ca_limit, ch_limit, la_limit, split_ca_pub, split_ca_quiet, split_ch_pub, split_ch_quiet, split_la_pub, split_la_quiet, split_limit_pub, split_limit_quiet,</span><br><span class="line">        people_public, people_quiet, selection_quiet, selection_public, chatting_lower/;</span><br><span class="line"><span class="keyword">solve</span> simple_obj2 <span class="keyword">using</span> mip maxmizing total_efficiency;</span><br><span class="line"></span><br><span class="line"><span class="comment">* save result in parameter</span></span><br><span class="line">selection_public_(<span class="string">"2"</span>, public_i) = select_public.l(public_i);</span><br><span class="line">selection_quiet_(<span class="string">"2"</span>, quiet_i) = select_quiet.l(quiet_i);</span><br><span class="line">chairs(<span class="string">"2"</span>, <span class="string">"public"</span>) = public_chair.l; </span><br><span class="line">chairs(<span class="string">"2"</span>, <span class="string">"quiet"</span>) = quiet_chair.l;</span><br></pre></td></tr></table></figure><table class="highlight1"><thead><tr style="text-align:right"><th></th><th>Solver Status</th><th>Model Status</th><th>Objective</th><th>#equ</th><th>#var</th><th>Model Type</th><th>Solver</th><th>Solver Time</th></tr></thead><tbody><tr><td>0</td><td>Normal (1)</td><td>Optimal Global (1)</td><td>9830.486</td><td>2642</td><td>6977</td><td>MIP</td><td>CPLEX</td><td>0.067</td></tr></tbody></table><p><a id="p1"></a></p><h5 id="plot-result-at-area-below"><a class="markdownIt-Anchor" href="#plot-result-at-area-below"></a> Plot result at area below:</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">%gams_pull -d chairs selection_public_ selection_quiet_</span><br><span class="line">display(chairs)</span><br><span class="line">chairs.set_index([<span class="string">'run'</span>],inplace=<span class="literal">True</span>)</span><br><span class="line">fig,(ax0,ax1) = plt.subplots(ncols=<span class="number">2</span>,figsize=(<span class="number">14</span>,<span class="number">5</span>))</span><br><span class="line">val=chairs.value.unique()</span><br><span class="line">print(val)</span><br><span class="line">labels=[<span class="string">'public'</span>, <span class="string">'quiet'</span>]</span><br><span class="line">chairs.loc[<span class="string">"1"</span>].pivot_table(index=[<span class="string">'room'</span>],values=[<span class="string">'value'</span>]).plot.pie(labels=labels,ax=ax1,y=<span class="string">'value'</span>,legend=<span class="literal">False</span>)</span><br><span class="line">ax0.pie(val,autopct=<span class="string">'%1.2f'</span>,labels=labels)</span><br><span class="line">ax0.set_ylabel(<span class="string">''</span>)</span><br><span class="line">ax0.set_title(<span class="string">'The number of students without calculation of equipments'</span>);</span><br><span class="line">chairs.loc[<span class="string">"2"</span>].pivot_table(index=[<span class="string">'room'</span>],values=[<span class="string">'value'</span>]).plot.pie(labels=labels,ax=ax1,y=<span class="string">'value'</span>,legend=<span class="literal">False</span>)</span><br><span class="line">ax1.pie(val,autopct=<span class="string">'%1.2f'</span>)</span><br><span class="line">ax1.set_ylabel(<span class="string">''</span>)</span><br><span class="line">ax1.set_title(<span class="string">'The number of students with calculation of equipments'</span>);</span><br><span class="line">display(selection_public_, selection_quiet_)</span><br></pre></td></tr></table></figure><table class="highlight1"><thead><tr style="text-align:right"><th></th><th>run</th><th>room</th><th>value</th></tr></thead><tbody><tr><td>0</td><td>1</td><td>public</td><td>321.0</td></tr><tr><td>1</td><td>1</td><td>quiet</td><td>679.0</td></tr><tr><td>2</td><td>2</td><td>public</td><td>321.0</td></tr><tr><td>3</td><td>2</td><td>quiet</td><td>679.0</td></tr></tbody></table><table class="highlight1"><thead><tr style="text-align:right"><th></th><th>run</th><th>public_i</th><th>value</th></tr></thead><tbody><tr><td>0</td><td>1</td><td>1</td><td>1.0</td></tr><tr><td>1</td><td>1</td><td>2</td><td>1.0</td></tr><tr><td>2</td><td>1</td><td>3</td><td>1.0</td></tr><tr><td>3</td><td>1</td><td>4</td><td>1.0</td></tr><tr><td>4</td><td>1</td><td>5</td><td>1.0</td></tr><tr><td>...</td><td>...</td><td>...</td><td>...</td></tr><tr><td>2787</td><td>2</td><td>1922</td><td>1.0</td></tr><tr><td>2788</td><td>2</td><td>1923</td><td>1.0</td></tr><tr><td>2789</td><td>2</td><td>1924</td><td>1.0</td></tr><tr><td>2790</td><td>2</td><td>1925</td><td>1.0</td></tr><tr><td>2791</td><td>2</td><td>1926</td><td>1.0</td></tr></tbody></table><p>2792 rows × 3 columns</p><table class="highlight1"><thead><tr style="text-align:right"><th></th><th>run</th><th>quiet_i</th><th>value</th></tr></thead><tbody><tr><td>0</td><td>1</td><td>1</td><td>1.0</td></tr><tr><td>1</td><td>1</td><td>2</td><td>1.0</td></tr><tr><td>2</td><td>1</td><td>3</td><td>1.0</td></tr><tr><td>3</td><td>1</td><td>4</td><td>1.0</td></tr><tr><td>4</td><td>1</td><td>5</td><td>1.0</td></tr><tr><td>...</td><td>...</td><td>...</td><td>...</td></tr><tr><td>3597</td><td>2</td><td>1898</td><td>1.0</td></tr><tr><td>3598</td><td>2</td><td>1899</td><td>1.0</td></tr><tr><td>3599</td><td>2</td><td>1900</td><td>1.0</td></tr><tr><td>3600</td><td>2</td><td>1901</td><td>1.0</td></tr><tr><td>3601</td><td>2</td><td>1902</td><td>1.0</td></tr></tbody></table><p>3602 rows × 3 columns</p><img src="/2019/projects/College-library-optimization-problem/output_9_4.png" title="test"><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">%%gams</span><br><span class="line">total_limit = <span class="number">50</span>;</span><br><span class="line"><span class="keyword">solve</span> simple_obj1 <span class="keyword">using</span> mip maxmizing total_efficiency;</span><br><span class="line">selection_public_(<span class="string">"1"</span>, public_i) = select_public.l(public_i);</span><br><span class="line">selection_quiet_(<span class="string">"1"</span>, quiet_i) = select_quiet.l(quiet_i);</span><br><span class="line">chairs(<span class="string">"1"</span>, <span class="string">"public"</span>) = public_chair.l; </span><br><span class="line">chairs(<span class="string">"1"</span>, <span class="string">"quiet"</span>) = quiet_chair.l;</span><br><span class="line"><span class="keyword">solve</span> simple_obj2 <span class="keyword">using</span> mip maxmizing total_efficiency;</span><br><span class="line">selection_public_(<span class="string">"2"</span>, public_i) = select_public.l(public_i);</span><br><span class="line">selection_quiet_(<span class="string">"2"</span>, quiet_i) = select_quiet.l(quiet_i);</span><br><span class="line">chairs(<span class="string">"2"</span>, <span class="string">"public"</span>) = public_chair.l; </span><br><span class="line">chairs(<span class="string">"2"</span>, <span class="string">"quiet"</span>) = quiet_chair.l;</span><br></pre></td></tr></table></figure><table class="highlight1"><thead><tr style="text-align:right"><th></th><th>Solver Status</th><th>Model Status</th><th>Objective</th><th>#equ</th><th>#var</th><th>Model Type</th><th>Solver</th><th>Solver Time</th></tr></thead><tbody><tr><td>0</td><td>Normal (1)</td><td>Optimal Global (1)</td><td>704.900</td><td>601</td><td>4403</td><td>MIP</td><td>CPLEX</td><td>0.019</td></tr><tr><td>1</td><td>Normal (1)</td><td>Optimal Global (1)</td><td>791.634</td><td>2642</td><td>6977</td><td>MIP</td><td>CPLEX</td><td>0.086</td></tr></tbody></table><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">%gams_pull -d chairs</span><br><span class="line"></span><br><span class="line"><span class="comment">#chairs.set_index(['run'],inplace=True)</span></span><br><span class="line">display(chairs)</span><br><span class="line">fig,(ax0,ax1) = plt.subplots(ncols=<span class="number">2</span>,figsize=(<span class="number">14</span>,<span class="number">5</span>))</span><br><span class="line">val=chairs.loc[chairs.run == <span class="string">"2"</span>].value</span><br><span class="line">vals=chairs.loc[chairs.run == <span class="string">"1"</span>].value</span><br><span class="line"></span><br><span class="line">labels=[<span class="string">'public'</span>, <span class="string">'quiet'</span>]</span><br><span class="line">ax0.set_title(<span class="string">'The number of students  without calculation of equipments'</span>);</span><br><span class="line">ax0.pie(vals,autopct=<span class="string">'%1.2f'</span>)</span><br><span class="line">chairs.loc[chairs.run == <span class="string">"2"</span>].pivot_table(index=[<span class="string">'room'</span>],values=[<span class="string">'value'</span>]).plot.pie(labels=labels,ax=ax1,y=<span class="string">'value'</span>,legend=<span class="literal">False</span>)</span><br><span class="line">chairs.loc[chairs.run == <span class="string">"1"</span>].pivot_table(index=[<span class="string">'room'</span>],values=[<span class="string">'value'</span>]).plot.pie(labels=labels,ax=ax1,y=<span class="string">'value'</span>,legend=<span class="literal">False</span>)</span><br><span class="line">ax1.pie(val,autopct=<span class="string">'%1.2f'</span>)</span><br><span class="line">ax1.set_ylabel(<span class="string">''</span>)</span><br><span class="line">ax1.set_title(<span class="string">'The number of students with calculation of equipments'</span>);</span><br></pre></td></tr></table></figure><table class="highlight1"><thead><tr style="text-align:right"><th></th><th>run</th><th>room</th><th>value</th></tr></thead><tbody><tr><td>0</td><td>1</td><td>public</td><td>50.0</td></tr><tr><td>1</td><td>2</td><td>public</td><td>25.0</td></tr><tr><td>2</td><td>2</td><td>quiet</td><td>25.0</td></tr></tbody></table><img src="/2019/projects/College-library-optimization-problem/output_11_1.png" title="test"><p><a id="c1"></a></p><h5 id="conclusion-for-this-part"><a class="markdownIt-Anchor" href="#conclusion-for-this-part"></a> Conclusion for this part:</h5><p>Based on our problem, (the total_limit is 1000), there are no significant difference between borrowing equipments and not borrowing equipments. But if we look into a smaller scalar problem, there are difference betweeen those two cases. The reason for it is that borrowing equipment has a low chance to happen.</p><p>For the conclusion, library need to arrange 321 seats for public area and 679 seats for quiet area in order to maxmize students’ total efficiency in the busy hours. We also demostrate a permission list but we think it is not unique and it is not as important as seats arrangement. So, we represented it but not discuss a lot about it.</p><h4 id="objective2-2"><a class="markdownIt-Anchor" href="#objective2-2"></a> Objective2:</h4><p>More gdx file is provided. Those gdx files describe different time of requests from students. How to arrange seats in the library to try the best to meet the requirement of student’s thought in those gdx files and maximize the total efficiency of students using the library? Each gdx file is considered as a different scene, store the output in parameter and plot different seat arrangement during this year in a line diagram and draw out if there is any suggestion to provide to the library.</p><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">%%gams</span><br><span class="line">total_limit = <span class="number">1000</span>;</span><br><span class="line"><span class="keyword">set</span> obj2 <span class="comment">"1:free 2:middle 3:busy"</span> /<span class="number">1</span>*<span class="number">3</span>/;</span><br><span class="line"><span class="keyword">parameter</span> problem2(obj2, room), selection_problem2_quiet(obj2,quiet_i),  selection_problem2_public(obj2,public_i);</span><br><span class="line"></span><br><span class="line"><span class="meta"><span class="meta-keyword">$onMultiR</span></span></span><br><span class="line"><span class="meta"><span class="meta-keyword">$gdxin</span> data-free.gdx</span></span><br><span class="line"><span class="meta"><span class="meta-keyword">$load</span> public_i&lt;Public.dim1 public_j&lt;Public.dim2 Public=Public</span></span><br><span class="line"><span class="meta"><span class="meta-keyword">$load</span> quiet_i&lt;Quiet.dim1 quiet_j&lt;Quiet.dim2 Quiet=Quiet</span></span><br><span class="line"><span class="comment">*,hours=hours,laptop=laptop,Calculator=Calculator, charger=charger;</span></span><br><span class="line"><span class="meta"><span class="meta-keyword">$gdxin</span></span></span><br><span class="line">n_pe_public(types, enter_hour, public_hour) = <span class="keyword">sum</span>(public_i, <span class="number">1</span><span class="symbol">$</span>(Public(public_i,<span class="string">"enter"</span>) = <span class="number">7</span>+<span class="keyword">ord</span>(enter_hour) <span class="keyword">and</span> Public(public_i,<span class="string">"hours"</span>) = <span class="keyword">ord</span>(public_hour) <span class="keyword">and</span> Public(public_i,<span class="string">"type"</span>) = <span class="keyword">ord</span>(types)<span class="number">-1</span>));</span><br><span class="line">n_pe_quiet(enter_hour, quiet_hour) = <span class="keyword">sum</span>(quiet_i, <span class="number">1</span><span class="symbol">$</span>((Quiet(quiet_i,<span class="string">"enter"</span>) = <span class="number">7</span>+<span class="keyword">ord</span>(enter_hour)) <span class="keyword">and</span> (Quiet(quiet_i,<span class="string">"hours"</span>) = <span class="keyword">ord</span>(quiet_hour))));</span><br><span class="line">ca_need_public.up(types, enter_hour, public_hour) = <span class="keyword">sum</span>(public_i, Public(public_i,<span class="string">"Calculator"</span>)<span class="symbol">$</span>(Public(public_i,<span class="string">"enter"</span>) = <span class="number">7</span>+<span class="keyword">ord</span>(enter_hour) <span class="keyword">and</span> Public(public_i,<span class="string">"hours"</span>) = <span class="keyword">ord</span>(public_hour) <span class="keyword">and</span> Public(public_i,<span class="string">"type"</span>) = <span class="keyword">ord</span>(types)<span class="number">-1</span>));</span><br><span class="line">ca_need_quiet.up(enter_hour, quiet_hour) = <span class="keyword">sum</span>(quiet_i, Quiet(quiet_i,<span class="string">"Calculator"</span>)<span class="symbol">$</span>(Quiet(quiet_i,<span class="string">"enter"</span>) = <span class="number">7</span>+<span class="keyword">ord</span>(enter_hour) <span class="keyword">and</span> Quiet(quiet_i,<span class="string">"hours"</span>) = <span class="keyword">ord</span>(quiet_hour)));</span><br><span class="line">ch_need_public.up(types, enter_hour, public_hour) = <span class="keyword">sum</span>(public_i, Public(public_i,<span class="string">"charger"</span>)<span class="symbol">$</span>(Public(public_i,<span class="string">"enter"</span>) = <span class="number">7</span>+<span class="keyword">ord</span>(enter_hour) <span class="keyword">and</span> Public(public_i,<span class="string">"hours"</span>) = <span class="keyword">ord</span>(public_hour) <span class="keyword">and</span> Public(public_i,<span class="string">"type"</span>) = <span class="keyword">ord</span>(types)<span class="number">-1</span>));</span><br><span class="line">ch_need_quiet.up(enter_hour, quiet_hour) = <span class="keyword">sum</span>(quiet_i, Quiet(quiet_i,<span class="string">"charger"</span>)<span class="symbol">$</span>(Quiet(quiet_i,<span class="string">"enter"</span>) = <span class="number">7</span>+<span class="keyword">ord</span>(enter_hour) <span class="keyword">and</span> Quiet(quiet_i,<span class="string">"hours"</span>) = <span class="keyword">ord</span>(quiet_hour)));</span><br><span class="line">lap_need_public.up(types, enter_hour, public_hour) = <span class="keyword">sum</span>(public_i, Public(public_i,<span class="string">"laptop"</span>)<span class="symbol">$</span>(Public(public_i,<span class="string">"enter"</span>) = <span class="number">7</span>+<span class="keyword">ord</span>(enter_hour) <span class="keyword">and</span> Public(public_i,<span class="string">"hours"</span>) = <span class="keyword">ord</span>(public_hour) <span class="keyword">and</span> Public(public_i,<span class="string">"type"</span>) = <span class="keyword">ord</span>(types)<span class="number">-1</span>));</span><br><span class="line">lap_need_quiet.up(enter_hour, quiet_hour) = <span class="keyword">sum</span>(quiet_i, Quiet(quiet_i,<span class="string">"laptop"</span>)<span class="symbol">$</span>(Quiet(quiet_i,<span class="string">"enter"</span>) = <span class="number">7</span>+<span class="keyword">ord</span>(enter_hour) <span class="keyword">and</span> Quiet(quiet_i,<span class="string">"hours"</span>) = <span class="keyword">ord</span>(quiet_hour)));</span><br><span class="line"><span class="keyword">solve</span> simple_obj2 <span class="keyword">using</span> mip maxmizing total_efficiency;</span><br><span class="line">problem2(<span class="string">"1"</span>, <span class="string">"public"</span>) = public_chair.l; </span><br><span class="line">problem2(<span class="string">"1"</span>, <span class="string">"quiet"</span>) = quiet_chair.l;</span><br><span class="line">selection_problem2_quiet(<span class="string">"1"</span>, quiet_i) = select_quiet.l(quiet_i);</span><br><span class="line">selection_problem2_public(<span class="string">"1"</span>, public_i) = select_public.l(public_i);</span><br></pre></td></tr></table></figure><table class="highlight1"><thead><tr style="text-align:right"><th></th><th>Solver Status</th><th>Model Status</th><th>Objective</th><th>#equ</th><th>#var</th><th>Model Type</th><th>Solver</th><th>Solver Time</th></tr></thead><tbody><tr><td>0</td><td>Normal (1)</td><td>Optimal Global (1)</td><td>6809.384</td><td>2642</td><td>5873</td><td>MIP</td><td>CPLEX</td><td>0.05</td></tr></tbody></table><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">%%gams</span><br><span class="line">total_limit = <span class="number">1000</span>;</span><br><span class="line"><span class="meta"><span class="meta-keyword">$onMultiR</span></span></span><br><span class="line"><span class="meta"><span class="meta-keyword">$gdxin</span> data-middle.gdx</span></span><br><span class="line"><span class="meta"><span class="meta-keyword">$load</span> public_i&lt;Public.dim1 public_j&lt;Public.dim2 Public=Public</span></span><br><span class="line"><span class="meta"><span class="meta-keyword">$load</span> quiet_i&lt;Quiet.dim1 quiet_j&lt;Quiet.dim2 Quiet=Quiet</span></span><br><span class="line"><span class="comment">*,hours=hours,laptop=laptop,Calculator=Calculator, charger=charger;</span></span><br><span class="line"><span class="meta"><span class="meta-keyword">$gdxin</span></span></span><br><span class="line">n_pe_public(types, enter_hour, public_hour) = <span class="keyword">sum</span>(public_i, <span class="number">1</span><span class="symbol">$</span>(Public(public_i,<span class="string">"enter"</span>) = <span class="number">7</span>+<span class="keyword">ord</span>(enter_hour) <span class="keyword">and</span> Public(public_i,<span class="string">"hours"</span>) = <span class="keyword">ord</span>(public_hour) <span class="keyword">and</span> Public(public_i,<span class="string">"type"</span>) = <span class="keyword">ord</span>(types)<span class="number">-1</span>));</span><br><span class="line">n_pe_quiet(enter_hour, quiet_hour) = <span class="keyword">sum</span>(quiet_i, <span class="number">1</span><span class="symbol">$</span>((Quiet(quiet_i,<span class="string">"enter"</span>) = <span class="number">7</span>+<span class="keyword">ord</span>(enter_hour)) <span class="keyword">and</span> (Quiet(quiet_i,<span class="string">"hours"</span>) = <span class="keyword">ord</span>(quiet_hour))));</span><br><span class="line">ca_need_public.up(types, enter_hour, public_hour) = <span class="keyword">sum</span>(public_i, Public(public_i,<span class="string">"Calculator"</span>)<span class="symbol">$</span>(Public(public_i,<span class="string">"enter"</span>) = <span class="number">7</span>+<span class="keyword">ord</span>(enter_hour) <span class="keyword">and</span> Public(public_i,<span class="string">"hours"</span>) = <span class="keyword">ord</span>(public_hour) <span class="keyword">and</span> Public(public_i,<span class="string">"type"</span>) = <span class="keyword">ord</span>(types)<span class="number">-1</span>));</span><br><span class="line">ca_need_quiet.up(enter_hour, quiet_hour) = <span class="keyword">sum</span>(quiet_i, Quiet(quiet_i,<span class="string">"Calculator"</span>)<span class="symbol">$</span>(Quiet(quiet_i,<span class="string">"enter"</span>) = <span class="number">7</span>+<span class="keyword">ord</span>(enter_hour) <span class="keyword">and</span> Quiet(quiet_i,<span class="string">"hours"</span>) = <span class="keyword">ord</span>(quiet_hour)));</span><br><span class="line">ch_need_public.up(types, enter_hour, public_hour) = <span class="keyword">sum</span>(public_i, Public(public_i,<span class="string">"charger"</span>)<span class="symbol">$</span>(Public(public_i,<span class="string">"enter"</span>) = <span class="number">7</span>+<span class="keyword">ord</span>(enter_hour) <span class="keyword">and</span> Public(public_i,<span class="string">"hours"</span>) = <span class="keyword">ord</span>(public_hour) <span class="keyword">and</span> Public(public_i,<span class="string">"type"</span>) = <span class="keyword">ord</span>(types)<span class="number">-1</span>));</span><br><span class="line">ch_need_quiet.up(enter_hour, quiet_hour) = <span class="keyword">sum</span>(quiet_i, Quiet(quiet_i,<span class="string">"charger"</span>)<span class="symbol">$</span>(Quiet(quiet_i,<span class="string">"enter"</span>) = <span class="number">7</span>+<span class="keyword">ord</span>(enter_hour) <span class="keyword">and</span> Quiet(quiet_i,<span class="string">"hours"</span>) = <span class="keyword">ord</span>(quiet_hour)));</span><br><span class="line">lap_need_public.up(types, enter_hour, public_hour) = <span class="keyword">sum</span>(public_i, Public(public_i,<span class="string">"laptop"</span>)<span class="symbol">$</span>(Public(public_i,<span class="string">"enter"</span>) = <span class="number">7</span>+<span class="keyword">ord</span>(enter_hour) <span class="keyword">and</span> Public(public_i,<span class="string">"hours"</span>) = <span class="keyword">ord</span>(public_hour) <span class="keyword">and</span> Public(public_i,<span class="string">"type"</span>) = <span class="keyword">ord</span>(types)<span class="number">-1</span>));</span><br><span class="line">lap_need_quiet.up(enter_hour, quiet_hour) = <span class="keyword">sum</span>(quiet_i, Quiet(quiet_i,<span class="string">"laptop"</span>)<span class="symbol">$</span>(Quiet(quiet_i,<span class="string">"enter"</span>) = <span class="number">7</span>+<span class="keyword">ord</span>(enter_hour) <span class="keyword">and</span> Quiet(quiet_i,<span class="string">"hours"</span>) = <span class="keyword">ord</span>(quiet_hour)));</span><br><span class="line"><span class="keyword">solve</span> simple_obj2 <span class="keyword">using</span> mip maxmizing total_efficiency;</span><br><span class="line">problem2(<span class="string">"2"</span>, <span class="string">"public"</span>) = public_chair.l; </span><br><span class="line">problem2(<span class="string">"2"</span>, <span class="string">"quiet"</span>) = quiet_chair.l;</span><br><span class="line">selection_problem2_quiet(<span class="string">"2"</span>, quiet_i) = select_quiet.l(quiet_i);</span><br><span class="line">selection_problem2_public(<span class="string">"2"</span>, public_i) = select_public.l(public_i);</span><br></pre></td></tr></table></figure><table class="highlight1"><thead><tr style="text-align:right"><th></th><th>Solver Status</th><th>Model Status</th><th>Objective</th><th>#equ</th><th>#var</th><th>Model Type</th><th>Solver</th><th>Solver Time</th></tr></thead><tbody><tr><td>0</td><td>Normal (1)</td><td>Optimal Global (1)</td><td>8038.18</td><td>2642</td><td>6342</td><td>MIP</td><td>CPLEX</td><td>0.056</td></tr></tbody></table><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">%%gams</span><br><span class="line">total_limit = <span class="number">1000</span>;</span><br><span class="line"><span class="meta"><span class="meta-keyword">$onMultiR</span></span></span><br><span class="line"><span class="meta"><span class="meta-keyword">$gdxin</span> data-busy.gdx</span></span><br><span class="line"><span class="meta"><span class="meta-keyword">$load</span> public_i&lt;Public.dim1 public_j&lt;Public.dim2 Public=Public</span></span><br><span class="line"><span class="meta"><span class="meta-keyword">$load</span> quiet_i&lt;Quiet.dim1 quiet_j&lt;Quiet.dim2 Quiet=Quiet</span></span><br><span class="line"><span class="comment">*,hours=hours,laptop=laptop,Calculator=Calculator, charger=charger;</span></span><br><span class="line"><span class="meta"><span class="meta-keyword">$gdxin</span></span></span><br><span class="line">n_pe_public(types, enter_hour, public_hour) = <span class="keyword">sum</span>(public_i, <span class="number">1</span><span class="symbol">$</span>(Public(public_i,<span class="string">"enter"</span>) = <span class="number">7</span>+<span class="keyword">ord</span>(enter_hour) <span class="keyword">and</span> Public(public_i,<span class="string">"hours"</span>) = <span class="keyword">ord</span>(public_hour) <span class="keyword">and</span> Public(public_i,<span class="string">"type"</span>) = <span class="keyword">ord</span>(types)<span class="number">-1</span>));</span><br><span class="line">n_pe_quiet(enter_hour, quiet_hour) = <span class="keyword">sum</span>(quiet_i, <span class="number">1</span><span class="symbol">$</span>((Quiet(quiet_i,<span class="string">"enter"</span>) = <span class="number">7</span>+<span class="keyword">ord</span>(enter_hour)) <span class="keyword">and</span> (Quiet(quiet_i,<span class="string">"hours"</span>) = <span class="keyword">ord</span>(quiet_hour))));</span><br><span class="line">ca_need_public.up(types, enter_hour, public_hour) = <span class="keyword">sum</span>(public_i, Public(public_i,<span class="string">"Calculator"</span>)<span class="symbol">$</span>(Public(public_i,<span class="string">"enter"</span>) = <span class="number">7</span>+<span class="keyword">ord</span>(enter_hour) <span class="keyword">and</span> Public(public_i,<span class="string">"hours"</span>) = <span class="keyword">ord</span>(public_hour) <span class="keyword">and</span> Public(public_i,<span class="string">"type"</span>) = <span class="keyword">ord</span>(types)<span class="number">-1</span>));</span><br><span class="line">ca_need_quiet.up(enter_hour, quiet_hour) = <span class="keyword">sum</span>(quiet_i, Quiet(quiet_i,<span class="string">"Calculator"</span>)<span class="symbol">$</span>(Quiet(quiet_i,<span class="string">"enter"</span>) = <span class="number">7</span>+<span class="keyword">ord</span>(enter_hour) <span class="keyword">and</span> Quiet(quiet_i,<span class="string">"hours"</span>) = <span class="keyword">ord</span>(quiet_hour)));</span><br><span class="line">ch_need_public.up(types, enter_hour, public_hour) = <span class="keyword">sum</span>(public_i, Public(public_i,<span class="string">"charger"</span>)<span class="symbol">$</span>(Public(public_i,<span class="string">"enter"</span>) = <span class="number">7</span>+<span class="keyword">ord</span>(enter_hour) <span class="keyword">and</span> Public(public_i,<span class="string">"hours"</span>) = <span class="keyword">ord</span>(public_hour) <span class="keyword">and</span> Public(public_i,<span class="string">"type"</span>) = <span class="keyword">ord</span>(types)<span class="number">-1</span>));</span><br><span class="line">ch_need_quiet.up(enter_hour, quiet_hour) = <span class="keyword">sum</span>(quiet_i, Quiet(quiet_i,<span class="string">"charger"</span>)<span class="symbol">$</span>(Quiet(quiet_i,<span class="string">"enter"</span>) = <span class="number">7</span>+<span class="keyword">ord</span>(enter_hour) <span class="keyword">and</span> Quiet(quiet_i,<span class="string">"hours"</span>) = <span class="keyword">ord</span>(quiet_hour)));</span><br><span class="line">lap_need_public.up(types, enter_hour, public_hour) = <span class="keyword">sum</span>(public_i, Public(public_i,<span class="string">"laptop"</span>)<span class="symbol">$</span>(Public(public_i,<span class="string">"enter"</span>) = <span class="number">7</span>+<span class="keyword">ord</span>(enter_hour) <span class="keyword">and</span> Public(public_i,<span class="string">"hours"</span>) = <span class="keyword">ord</span>(public_hour) <span class="keyword">and</span> Public(public_i,<span class="string">"type"</span>) = <span class="keyword">ord</span>(types)<span class="number">-1</span>));</span><br><span class="line">lap_need_quiet.up(enter_hour, quiet_hour) = <span class="keyword">sum</span>(quiet_i, Quiet(quiet_i,<span class="string">"laptop"</span>)<span class="symbol">$</span>(Quiet(quiet_i,<span class="string">"enter"</span>) = <span class="number">7</span>+<span class="keyword">ord</span>(enter_hour) <span class="keyword">and</span> Quiet(quiet_i,<span class="string">"hours"</span>) = <span class="keyword">ord</span>(quiet_hour)));</span><br><span class="line"><span class="keyword">solve</span> simple_obj2 <span class="keyword">using</span> mip maxmizing total_efficiency;</span><br><span class="line">problem2(<span class="string">"3"</span>, <span class="string">"public"</span>) = public_chair.l; </span><br><span class="line">problem2(<span class="string">"3"</span>, <span class="string">"quiet"</span>) = quiet_chair.l;</span><br><span class="line">selection_problem2_quiet(<span class="string">"3"</span>, quiet_i) = select_quiet.l(quiet_i);</span><br><span class="line">selection_problem2_public(<span class="string">"3"</span>, public_i) = select_public.l(public_i);</span><br></pre></td></tr></table></figure><table class="highlight1"><thead><tr style="text-align:right"><th></th><th>Solver Status</th><th>Model Status</th><th>Objective</th><th>#equ</th><th>#var</th><th>Model Type</th><th>Solver</th><th>Solver Time</th></tr></thead><tbody><tr><td>0</td><td>Normal (1)</td><td>Optimal Global (1)</td><td>9830.486</td><td>2642</td><td>6977</td><td>MIP</td><td>CPLEX</td><td>0.066</td></tr></tbody></table><p><a id="p2"></a></p><h5 id="plot-result-at-area-below-2"><a class="markdownIt-Anchor" href="#plot-result-at-area-below-2"></a> Plot result at area below:</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">%gams_pull -d problem2 selection_problem2_quiet selection_problem2_public</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">display(selection_problem2_quiet, selection_problem2_public);</span><br><span class="line">display(problem2)</span><br><span class="line">data = np.array(problem2.loc[problem2.room==<span class="string">"public"</span>]).tolist()</span><br><span class="line">public = list()</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> data:</span><br><span class="line">    public.append(i[<span class="number">2</span>]);</span><br><span class="line">data = np.array(problem2.loc[problem2.room==<span class="string">"quiet"</span>]).tolist()</span><br><span class="line">quiet = list()</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> data:</span><br><span class="line">    quiet.append(i[<span class="number">2</span>]);</span><br><span class="line">x = [<span class="string">"free"</span>, <span class="string">"middle"</span>, <span class="string">"bussy"</span>]</span><br><span class="line">plt.plot(x, public, marker=<span class="string">'o'</span>, mec=<span class="string">'r'</span>, mfc=<span class="string">'w'</span>,label=<span class="string">"public"</span>)</span><br><span class="line">plt.plot(x, quiet, marker=<span class="string">'*'</span>, ms=<span class="number">10</span>,label=<span class="string">"quiet"</span>)</span><br><span class="line">plt.legend() </span><br><span class="line">plt.title(<span class="string">"Seat arrangement for different time"</span>) </span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><table class="highlight1"><thead><tr style="text-align:right"><th></th><th>obj2</th><th>quiet_i</th><th>value</th></tr></thead><tbody><tr><td>0</td><td>1</td><td>1</td><td>1.0</td></tr><tr><td>1</td><td>1</td><td>2</td><td>1.0</td></tr><tr><td>2</td><td>1</td><td>3</td><td>1.0</td></tr><tr><td>3</td><td>1</td><td>4</td><td>1.0</td></tr><tr><td>4</td><td>1</td><td>5</td><td>1.0</td></tr><tr><td>...</td><td>...</td><td>...</td><td>...</td></tr><tr><td>4620</td><td>3</td><td>1898</td><td>1.0</td></tr><tr><td>4621</td><td>3</td><td>1899</td><td>1.0</td></tr><tr><td>4622</td><td>3</td><td>1900</td><td>1.0</td></tr><tr><td>4623</td><td>3</td><td>1901</td><td>1.0</td></tr><tr><td>4624</td><td>3</td><td>1902</td><td>1.0</td></tr></tbody></table><p>4625 rows × 3 columns</p><table class="highlight1"><thead><tr style="text-align:right"><th></th><th>obj2</th><th>public_i</th><th>value</th></tr></thead><tbody><tr><td>0</td><td>1</td><td>1</td><td>1.0</td></tr><tr><td>1</td><td>1</td><td>2</td><td>1.0</td></tr><tr><td>2</td><td>1</td><td>3</td><td>1.0</td></tr><tr><td>3</td><td>1</td><td>4</td><td>1.0</td></tr><tr><td>4</td><td>1</td><td>5</td><td>1.0</td></tr><tr><td>...</td><td>...</td><td>...</td><td>...</td></tr><tr><td>4603</td><td>3</td><td>1922</td><td>1.0</td></tr><tr><td>4604</td><td>3</td><td>1923</td><td>1.0</td></tr><tr><td>4605</td><td>3</td><td>1924</td><td>1.0</td></tr><tr><td>4606</td><td>3</td><td>1925</td><td>1.0</td></tr><tr><td>4607</td><td>3</td><td>1926</td><td>1.0</td></tr></tbody></table><p>4608 rows × 3 columns</p><table class="highlight1"><thead><tr style="text-align:right"><th></th><th>obj2</th><th>room</th><th>value</th></tr></thead><tbody><tr><td>0</td><td>1</td><td>public</td><td>556.0</td></tr><tr><td>1</td><td>1</td><td>quiet</td><td>444.0</td></tr><tr><td>2</td><td>2</td><td>public</td><td>453.0</td></tr><tr><td>3</td><td>2</td><td>quiet</td><td>547.0</td></tr><tr><td>4</td><td>3</td><td>public</td><td>321.0</td></tr><tr><td>5</td><td>3</td><td>quiet</td><td>679.0</td></tr></tbody></table><img src="/2019/projects/College-library-optimization-problem/output_18_3.png" title="test"><p><a id="c2"></a></p><h5 id="conclusion-for-this-part-2"><a class="markdownIt-Anchor" href="#conclusion-for-this-part-2"></a> Conclusion for this part:</h5><p>As we mentioned in the problem, we provided the permission in each case. But it is not useful.</p><p>By using the graph, we could clearly see that more quiet seats need to be arranged when students get bussier. This might be a guidance for library to provide different arrangement of seats in different time period.</p><p><a id="p3"></a></p><h4 id="objective3-2"><a class="markdownIt-Anchor" href="#objective3-2"></a> Objective3:</h4><p>Solve the model multiple times with different total seats provided, do you have any recommendation for the school that they need to buy more seats or not? Do not consider rules of fire protection design and construction of buildings. Plot the result in graph and explain the reason.</p><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">%%gams</span><br><span class="line"><span class="keyword">set</span> limits /<span class="number">1</span>*<span class="number">200</span>/;</span><br><span class="line"><span class="keyword">parameter</span> n_result(limits);</span><br><span class="line"><span class="keyword">loop</span>(limits,</span><br><span class="line">     total_limit = <span class="keyword">ord</span>(limits)*<span class="number">10</span>;</span><br><span class="line">     <span class="keyword">solve</span> simple_obj2 <span class="keyword">using</span> mip maxmizing total_efficiency;</span><br><span class="line">     n_result(limits) = total_efficiency.l;</span><br><span class="line">);</span><br></pre></td></tr></table></figure><table class="highlight1"><thead><tr style="text-align:right"><th></th><th>Solver Status</th><th>Model Status</th><th>Objective</th><th>#equ</th><th>#var</th><th>Model Type</th><th>Solver</th><th>Solver Time</th></tr></thead><tbody><tr><td>0</td><td>Normal (1)</td><td>Optimal Global (1)</td><td>165.596</td><td>2642</td><td>6977</td><td>MIP</td><td>CPLEX</td><td>0.11</td></tr><tr><td>1</td><td>Normal (1)</td><td>Optimal Global (1)</td><td>331.180</td><td>2642</td><td>6977</td><td>MIP</td><td>CPLEX</td><td>0.089</td></tr><tr><td>2</td><td>Normal (1)</td><td>Optimal Global (1)</td><td>488.794</td><td>2642</td><td>6977</td><td>MIP</td><td>CPLEX</td><td>0.084</td></tr><tr><td>3</td><td>Normal (1)</td><td>Optimal Global (1)</td><td>642.634</td><td>2642</td><td>6977</td><td>MIP</td><td>CPLEX</td><td>0.085</td></tr><tr><td>4</td><td>Normal (1)</td><td>Optimal Global (1)</td><td>791.634</td><td>2642</td><td>6977</td><td>MIP</td><td>CPLEX</td><td>0.085</td></tr><tr><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td></tr><tr><td>195</td><td>Normal (1)</td><td>Optimal Global (1)</td><td>10790.158</td><td>2642</td><td>6977</td><td>MIP</td><td>CPLEX</td><td>0.055</td></tr><tr><td>196</td><td>Normal (1)</td><td>Optimal Global (1)</td><td>10790.158</td><td>2642</td><td>6977</td><td>MIP</td><td>CPLEX</td><td>0.054</td></tr><tr><td>197</td><td>Normal (1)</td><td>Optimal Global (1)</td><td>10790.158</td><td>2642</td><td>6977</td><td>MIP</td><td>CPLEX</td><td>0.055</td></tr><tr><td>198</td><td>Normal (1)</td><td>Optimal Global (1)</td><td>10790.158</td><td>2642</td><td>6977</td><td>MIP</td><td>CPLEX</td><td>0.054</td></tr><tr><td>199</td><td>Normal (1)</td><td>Optimal Global (1)</td><td>10790.158</td><td>2642</td><td>6977</td><td>MIP</td><td>CPLEX</td><td>0.051</td></tr></tbody></table><p>200 rows × 8 columns</p><a id="p33"></a><h5 id="plot-result-area"><a class="markdownIt-Anchor" href="#plot-result-area"></a> Plot result area:</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">%gams_pull -d n_result</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">ax = plt.gca()</span><br><span class="line">n_result.set_index([<span class="string">'value'</span>],inplace=<span class="literal">True</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> n_result[<span class="string">"limits"</span>]:</span><br><span class="line">    n_result.replace(to_replace = i, value = int(i)*<span class="number">10</span>, inplace=<span class="literal">True</span>) </span><br><span class="line">n_result.reset_index(inplace=<span class="literal">True</span>)</span><br><span class="line">n_result.plot(kind=<span class="string">'line'</span>,x=<span class="string">'limits'</span>,y=<span class="string">'value'</span>,ax=ax)</span><br></pre></td></tr></table></figure><img src="/2019/projects/College-library-optimization-problem/output_23_1.png" title="test"><p><a id="c31"></a></p><h5 id="conclusion-for-this-part-3"><a class="markdownIt-Anchor" href="#conclusion-for-this-part-3"></a> Conclusion for this part</h5><p>As we could see on the graph that the slope goes down at point around 1200. So for the bussiest season, school do need to buy more chairs for students to study.</p><p><a id="c3"></a></p><h5 id="conclusion-for-this-project"><a class="markdownIt-Anchor" href="#conclusion-for-this-project"></a> Conclusion for this project:</h5><p>In this project, we learned how to use gams and solve a near real case problem. We observe an optimized seat arrangement for library to use. We also see the difference between different time in one semester and the result could be used to guide seat arrangements. At last, we see that 1000 seats might be too small for this library and they need to buy more.</p><p>We spent a lot of time on this project and we learned a lot from it. We also observe that gams system is pretty simple and efficient compared to other language. In the future, we would like to use it for more times on optimization problem.</p></div><section class="meta" id="footer-meta"><hr><div class="new-meta-box"><div class="new-meta-item date" itemprop="dateUpdated" datetime="2020-05-02T21:33:46-05:00"><a class="notlink"><i class="fas fa-clock" aria-hidden="true"></i><p>last updated at May 2, 2020</p></a></div><div class="new-meta-item meta-tags"><a class="tag" href="/tags/GAMS/" rel="nofollow"><i class="fas fa-hashtag" aria-hidden="true"></i>&nbsp;<p>GAMS</p></a></div><div class="new-meta-item meta-tags"><a class="tag" href="/tags/MIP/" rel="nofollow"><i class="fas fa-hashtag" aria-hidden="true"></i>&nbsp;<p>MIP</p></a></div><div class="new-meta-item meta-tags"><a class="tag" href="/tags/CPLEX/" rel="nofollow"><i class="fas fa-hashtag" aria-hidden="true"></i>&nbsp;<p>CPLEX</p></a></div></div></section><div class="prev-next"><section class="prev"><span class="art-item-left"><h6><i class="fas fa-chevron-left" aria-hidden="true"></i>&nbsp;Previous</h6><h4><a href="/2019/projects/VoiceInput/" rel="prev" title="VoiceInput">VoiceInput</a></h4><h6 class="tags"><a class="tag" href="/tags/Java/"><i class="fas fa-hashtag fa-fw" aria-hidden="true"></i>Java</a></h6></span></section><section class="next"><span class="art-item-right" aria-hidden="true"><h6>Next&nbsp;<i class="fas fa-chevron-right" aria-hidden="true"></i></h6><h4><a href="/2019/common-run-eosio/" rel="prev" title="Common error while running EOSIO">Common error while running EOSIO</a></h4><h6 class="tags"><a class="tag" href="/tags/eos/"><i class="fas fa-hashtag fa-fw" aria-hidden="true"></i>eos</a> <a class="tag" href="/tags/eosio-contracts/"><i class="fas fa-hashtag fa-fw" aria-hidden="true"></i>eosio.contracts</a> <a class="tag" href="/tags/eos-cdt/"><i class="fas fa-hashtag fa-fw" aria-hidden="true"></i>eos.cdt</a></h6></span></section></div></section></article><article class="post white-box comments"><section class="article typo"><h4><i class="fas fa-comments fa-fw" aria-hidden="true"></i>&nbsp;Comments</h4><section id="comments"><div id="valine_container" class="valine_thread"><i class="fas fa-spinner fa-spin fa-fw"></i></div></section></section></article><script>window.subData={title:"College library optimization problem",tools:!0}</script></div><aside class="l_side"><section class="widget toc-wrapper"><header class="material"><div><i class="fas fa-list fa-fw" aria-hidden="true"></i>&nbsp;&nbsp;TOC</div><div class="wrapper"><a class="s-toc rightBtn" rel="external nofollow noopener noreferrer" href="javascript:void(0)"><i class="fas fa-thumbtack fa-fw"></i></a></div></header><div class="content material"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#problem"><span class="toc-text">Problem</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#college-library-optimization-problem"><span class="toc-text">College library optimization problem</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#objective1"><span class="toc-text">Objective1:</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#objective2"><span class="toc-text">Objective2:</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#objective3"><span class="toc-text">Objective3:</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#analyze"><span class="toc-text">Analyze:</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#the-approach-used"><span class="toc-text">The approach used.</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#optimization-model"><span class="toc-text">Optimization model</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#processing-of-the-solution"><span class="toc-text">Processing of the solution</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#some-brief-conclusion"><span class="toc-text">Some brief conclusion</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#further-thoughts"><span class="toc-text">Further thoughts:</span></a></li></ol></li></ol><li class="toc-item toc-level-2"><a class="toc-link" href="#solution"><span class="toc-text">Solution:</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#objective1-2"><span class="toc-text">Objective1:</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#plot-result-at-area-below"><span class="toc-text">Plot result at area below:</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#conclusion-for-this-part"><span class="toc-text">Conclusion for this part:</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#objective2-2"><span class="toc-text">Objective2:</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#plot-result-at-area-below-2"><span class="toc-text">Plot result at area below:</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#conclusion-for-this-part-2"><span class="toc-text">Conclusion for this part:</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#objective3-2"><span class="toc-text">Objective3:</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#plot-result-area"><span class="toc-text">Plot result area:</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#conclusion-for-this-part-3"><span class="toc-text">Conclusion for this part</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#conclusion-for-this-project"><span class="toc-text">Conclusion for this project:</span></a></li></ol></li></ol></li></div></section><section class="widget category"><header class="material"><div><i class="fas fa-folder-open fa-fw" aria-hidden="true"></i>&nbsp;&nbsp;Categories</div><a class="rightBtn" rel="nofollow" href="/categories/" title="categories/"><i class="fas fa-expand-arrows-alt fa-fw"></i></a></header><div class="content material"><ul class="entry"><li><a class="flat-box" title="/categories/Cryptocurrency-Application/" href="/categories/Cryptocurrency-Application/"><div class="name">Cryptocurrency Application</div><div class="badge">(4)</div></a></li><li><a class="flat-box child" title="/categories/Cryptocurrency-Application/Bitcoin/" href="/categories/Cryptocurrency-Application/Bitcoin/"><div class="name">Bitcoin</div><div class="badge">(1)</div></a></li><li><a class="flat-box child" title="/categories/Cryptocurrency-Application/EOSIO/" href="/categories/Cryptocurrency-Application/EOSIO/"><div class="name">EOSIO</div><div class="badge">(3)</div></a></li><li><a class="flat-box" title="/categories/Expo/" href="/categories/Expo/"><div class="name">Expo</div><div class="badge">(4)</div></a></li><li><a class="flat-box" title="/categories/Programs/" href="/categories/Programs/"><div class="name">Programs</div><div class="badge">(5)</div></a></li><li><a class="flat-box child" title="/categories/Programs/Coursework/" href="/categories/Programs/Coursework/"><div class="name">Coursework</div><div class="badge">(3)</div></a></li><li><a class="flat-box child" title="/categories/Programs/tools/" href="/categories/Programs/tools/"><div class="name">tools</div><div class="badge">(2)</div></a></li><li><a class="flat-box" title="/categories/optimization/" href="/categories/optimization/"><div class="name">optimization</div><div class="badge">(4)</div></a></li><li><a class="flat-box" title="/categories/website/" href="/categories/website/"><div class="name">website</div><div class="badge">(7)</div></a></li><li><a class="flat-box child" title="/categories/website/Hexo/" href="/categories/website/Hexo/"><div class="name">Hexo</div><div class="badge">(2)</div></a></li><li><a class="flat-box child" title="/categories/website/JS/" href="/categories/website/JS/"><div class="name">JS</div><div class="badge">(1)</div></a></li></ul></div></section><section class="widget tagcloud"><header class="material"><div><i class="fas fa-fire fa-fw" aria-hidden="true"></i>&nbsp;&nbsp;Hot Tags</div><a class="rightBtn" rel="nofollow" href="/tags/" title="tags/"><i class="fas fa-expand-arrows-alt fa-fw"></i></a></header><div class="content material"><a href="/tags/Bitcoin/" style="font-size:14px;color:#999">Bitcoin</a> <a href="/tags/CPLEX/" style="font-size:14px;color:#999">CPLEX</a> <a href="/tags/GAMS/" style="font-size:17.33px;color:#828282">GAMS</a> <a href="/tags/HTML/" style="font-size:14px;color:#999">HTML</a> <a href="/tags/JS/" style="font-size:14px;color:#999">JS</a> <a href="/tags/Java/" style="font-size:17.33px;color:#828282">Java</a> <a href="/tags/JavaFX/" style="font-size:14px;color:#999">JavaFX</a> <a href="/tags/MIP/" style="font-size:24px;color:#555">MIP</a> <a href="/tags/Notes/" style="font-size:14px;color:#999">Notes</a> <a href="/tags/SQL/" style="font-size:17.33px;color:#828282">SQL</a> <a href="/tags/Website/" style="font-size:17.33px;color:#828282">Website</a> <a href="/tags/eos/" style="font-size:20.67px;color:#6c6c6c">eos</a> <a href="/tags/eos-cdt/" style="font-size:20.67px;color:#6c6c6c">eos.cdt</a> <a href="/tags/eosio-contracts/" style="font-size:20.67px;color:#6c6c6c">eosio.contracts</a> <a href="/tags/jsLpsolver/" style="font-size:14px;color:#999">jsLpsolver</a></div></section><section class="widget related_posts"><header class="material"><div><i class="fas fa-bookmark fa-fw" aria-hidden="true"></i>&nbsp;&nbsp;Related Posts</div></header><div class="content material"><ul class="popular-posts"><li class="popular-posts-item"><div class="popular-posts-title"><h3><a href="/2020/Optimal-Energy-Production/" title="Optimal Energy Production" rel="bookmark">Optimal Energy Production</a></h3></div></li><li class="popular-posts-item"><div class="popular-posts-title"><h3><a href="/2020/Energy-smulation-website/" title="Energy simulation website" rel="bookmark">Energy simulation website</a></h3></div></li><li class="popular-posts-item"><div class="popular-posts-title"><h3><a href="/2020/projects/Energy-simulation-JavaFx-ver/" title="Energy simulation Javafx version" rel="bookmark">Energy simulation Javafx version</a></h3></div></li></ul></div></section></aside><footer id="footer" class="clearfix"><div class="footer"></div><br><div class="social-wrapper"><a href="mailto:huangsk100@gmail.com" class="social fas fa-envelope flat-btn" target="_blank" rel="external nofollow noopener noreferrer"></a> <a href="https://github.com/ShaokangJiang" class="social fab fa-github flat-btn" target="_blank" rel="external nofollow noopener noreferrer"></a> <a href="https://github.com/sjiang97" class="social fab fa-github flat-btn" target="_blank" rel="external nofollow noopener noreferrer"></a></div><br><div><p>Powered by <a href="https://hexo.io/">Hexo</a>. Use <a href="https://xaoxuu.com/wiki/material-x/">Material-X</a> as theme.</p></div></footer><script>setLoadingBarProgress(80)</script><script>setLoadingBarProgress(60)</script></div><a class="s-top fas fa-arrow-up fa-fw" href="javascript:void(0)"></a></div><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script>var GOOGLE_CUSTOM_SEARCH_API_KEY="",GOOGLE_CUSTOM_SEARCH_ENGINE_ID="",ALGOLIA_API_KEY="",ALGOLIA_APP_ID="",ALGOLIA_INDEX_NAME="",AZURE_SERVICE_NAME="",AZURE_INDEX_NAME="",AZURE_QUERY_KEY="",BAIDU_API_ID="",SEARCH_SERVICE="hexo",ROOT="/";ROOT.endsWith("/")||(ROOT+="/")</script><script src="//instant.page/1.2.2" type="module" integrity="sha384-2xV8M5griQmzyiY3CDqh1dn4z3llDVqZDqzjzcY+jCBCk/a5fXJmuZ/40JJAPeoU"></script><script async src="https://cdn.jsdelivr.net/npm/scrollreveal@4.0.5/dist/scrollreveal.min.js"></script><script type="text/javascript">$((function(){0!==$(".reveal").length&&ScrollReveal({distance:0}).reveal(".reveal")}))</script><script src="https://cdn.jsdelivr.net/npm/node-waves@0.7.6/dist/waves.min.js"></script><script type="text/javascript">$((function(){Waves.attach(".flat-btn",["waves-button"]),Waves.attach(".float-btn",["waves-button","waves-float"]),Waves.attach(".float-btn-light",["waves-button","waves-float","waves-light"]),Waves.attach(".flat-box",["waves-block"]),Waves.attach(".float-box",["waves-block","waves-float"]),Waves.attach(".waves-image"),Waves.init()}))</script><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-backstretch/2.0.4/jquery.backstretch.min.js"></script><script type="text/javascript">$((function(){$(".cover").backstretch(["https://img.vim-cn.com/6d/a0c9e6f9efad8b731cb7376504bd10d79d2053.jpg"],{duration:"6000",fade:"2500"})}))</script><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-valine@1.3.4/js/valine.min.js"></script><script>var GUEST_INFO=["nick","mail","link"],guest_info="nick,mail,link".split(",").filter((function(i){return GUEST_INFO.indexOf(i)>-1})),notify=!1,verify=!1,valine=new Valine;valine.init({el:"#valine_container",notify:notify,verify:verify,guest_info:guest_info,appId:"g0v2qyGEhGys4wGpCLsKkerW-gzGzoHsz",appKey:"Sceumpu0A14EiY5RR3HtsCFx",placeholder:"",pageSize:"10",avatar:"mp",lang:"en",highlight:"false"})</script><script src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-material-x@19.4.19/js/app.js"></script><script src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-material-x@19.4.19/js/search.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script><script>let COPY_SUCCESS="Copied",COPY_FAILURE="Copy failed";window,document,function(){$(".highlight .code pre").before('<button class="btn-copy" data-clipboard-snippet="">  <i class="fa fa-copy"></i><span>Copy</span></button>');var o=new ClipboardJS(".btn-copy",{target:function(o){return o.nextElementSibling}});o.on("success",(function(o){console.info("Action:",o.action),console.info("Text:",o.text),console.info("Trigger:",o.trigger),success_prompt(COPY_SUCCESS),o.clearSelection()})),o.on("error",(function(o){console.error("Action:",o.action),console.error("Trigger:",o.trigger),fail_prompt(COPY_FAILURE)}))}();var prompt=function(o,n,t){n=void 0===n?"alert-success":n,t=void 0===t?1500:1e3*t,$("<div>").appendTo("body").addClass("alert "+n).html(o).show().delay(t).fadeOut()},success_prompt=function(o,n){prompt(o,"alert-success",n)},fail_prompt=function(o,n){prompt(o,"alert-danger",n)},warning_prompt=function(o,n){prompt(o,"alert-warning",n)},info_prompt=function(o,n){prompt(o,"alert-info",n)}</script><script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script><script>let LAZY_LOAD_IMAGE="";$(".article-entry").find("fancybox").find("img").each((function(){var t=document.createElement("a");$(t).attr("data-fancybox","gallery"),$(t).attr("href",$(this).attr("src")),LAZY_LOAD_IMAGE&&$(t).attr("href",$(this).attr("data-original")),$(this).wrap(t)}))</script><script>setLoadingBarProgress(100)</script></body></html>